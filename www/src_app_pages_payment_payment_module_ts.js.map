{"version":3,"file":"src_app_pages_payment_payment_module_ts.js","mappings":"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","sources":["./src/app/pages/payment/payment-routing.module.ts","./src/app/pages/payment/payment.module.ts","./src/app/pages/payment/payment.page.ts","./src/app/pages/payment/payment.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentPage } from './payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentPageRoutingModule } from './payment-routing.module';\n\nimport { PaymentPage } from './payment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    PaymentPageRoutingModule\n  ],\n  declarations: [PaymentPage]\n})\nexport class PaymentPageModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { PaystackPlugin } from '@bot101/capacitor-paystack-plugin';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.page.html',\n  styleUrls: ['./payment.page.scss'],\n})\nexport class PaymentPage implements OnInit {\n  @ViewChild('paymentform',{read:ElementRef}) stripeButton : ElementRef;\n  cardpaymentForm: FormGroup;\n  public data: any;\n  info: any;\n  approve: boolean;\n  cards: any[];\n  selectedCard: any;\n  selected: any;\n  skeletOns: {}[];\n  cash: any = 'cash';\n\n  // Card details for Paystack\n  cardNumber: string;\n  expiryMonth: string;\n  expiryYear: string;\n  cvv: string;\n\n  constructor(\n    public prof: AvatarService,\n    public nav: NavController,\n    private http: HttpClient,\n    public alertCtrl: AlertController,\n    private overlay: OverlayService,\n    public formBuilder: FormBuilder,\n    private paystack: PaystackPlugin // Inject PaystackPlugin\n  ) {}\n\n  ionViewDidEnter() {\n    this.skeletOns = [{}, {}, {}, {}, {}];\n    this.setupPaystack();\n    this.prof.getCards().subscribe((d) => {\n      console.log(d);\n      this.cards = d;\n      this.cards.forEach(element => {\n        console.log(element);\n        if (element.selected === true) {\n          this.selected = element;\n          this.selectedCard = element.name;\n          console.log(this.selectedCard);\n        }\n      });\n    });\n  }\n\n  async chooseCard(event) {\n    console.log(event);\n    this.overlay.showLoader('Please wait..');\n    await this.prof.updateCArd(this.selected.name, this.selected.number, this.selected.type, this.selected.id, false);\n    await this.prof.updateCArd(event.name, event.number, event.type, event.id, true);\n    this.overlay.hideLoader();\n  }\n\n  async setupPaystack() {\n    console.log(this.paystack);\n    // Initialize Paystack\n    const initializeOptions = {\n      publicKey: 'pk_test_efb7b8fa7e77edd630931e1f818802ed7e72dfed', // Replace with your Paystack public key\n      production: false, // Set to true for production environment\n    };\n\n    try {\n      await this.paystack.initialize(initializeOptions);\n      console.log('Paystack initialized');\n    } catch (error) {\n      console.error('Paystack initialization failed', error);\n    }\n  }\n\n  async handlePaystackPayment(event) {\n    event.preventDefault();\n    this.approve = true;\n\n    try {\n      // Add customer card information\n      await this.paystack.addCard({\n        cardNumber: this.cardNumber,\n        expiryMonth: this.expiryMonth,\n        expiryYear: this.expiryYear,\n        cvv: this.cvv\n      });\n\n      // Set the email to charge\n      await this.paystack.setChargeEmail({ email: \"email@address.com\" });\n\n      // Set the amount to charge the card (in kobo)\n      await this.paystack.setChargeAmount({ amount: '1000000' }); // example amount: 1000000 (10,000 Naira)\n\n      // Optionally add custom fields, metadata, and charge parameters\n      await this.paystack.putChargeCustomFields({ customField1: \"field1\", customField2: \"field2\" });\n      await this.paystack.putChargeMetadata({ metaData1: \"meta1\", metaData2: \"meta2\" });\n      await this.paystack.addChargeParameters({ param1: \"param1\", param2: \"param2\" });\n\n      // Charge the card\n      const chargeResponse = await this.paystack.chargeCard();\n      console.log(chargeResponse.reference);\n      this.overlay.showToast('Payment successful! Reference: ' + chargeResponse.reference);\n      this.approve = false;\n\n      // Update the card list or handle post-payment logic\n      await this.prof.updateCArd(this.selected.name, this.selected.number, this.selected.type, this.selected.id, false);\n      await this.prof.createCard(this.cardNumber, this.cardNumber.slice(-4), \"Paystack\", chargeResponse.reference);\n      this.ionViewDidEnter(); // Refresh card list\n\n    } catch (error) {\n      console.error('Payment failed', error);\n      this.overlay.showAlert('Payment Error', error.message);\n      this.approve = false;\n    }\n  }\n\n  async showPaymentAlert(title, subtitle, canLeave) {\n    const alert = await this.alertCtrl.create({\n      header: title,\n      subHeader: subtitle,\n      buttons: [{\n        text: 'Approve',\n        role: 'cancel',\n        handler: () => {\n          if (canLeave) {\n            this.nav.pop();\n          }\n        }\n      }],\n      backdropDismiss: false\n    });\n    alert.present();\n  }\n\n  ngOnInit() {}\n\n}\n","<ion-header class=\"ion-no-border\" [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button color=\"primary\">\n        <ion-back-button></ion-back-button>\n      </ion-button>\n    </ion-buttons>\n    <ion-title>Payment</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-text-center ion-padding\">\n  <ion-list>\n    <ion-list-header class=\"ion-text-center\">\n      <ion-label color=\"primary\"><h1>Add New Card</h1></ion-label>\n    </ion-list-header>\n\n    <ion-card>\n      <ion-card-content>\n        <form (submit)=\"handlePaystackPayment($event)\" id=\"payment-form\">\n          <div class=\"form-row ion-padding-bottom\">\n            <!-- Card input fields for Paystack -->\n            <ion-item>\n              <ion-label position=\"floating\">Card Number</ion-label>\n              <ion-input type=\"text\" [(ngModel)]=\"cardNumber\" name=\"cardNumber\"></ion-input>\n            </ion-item>\n            <ion-item>\n              <ion-label position=\"floating\">Expiry Month</ion-label>\n              <ion-input type=\"text\" [(ngModel)]=\"expiryMonth\" name=\"expiryMonth\"></ion-input>\n            </ion-item>\n            <ion-item>\n              <ion-label position=\"floating\">Expiry Year</ion-label>\n              <ion-input type=\"text\" [(ngModel)]=\"expiryYear\" name=\"expiryYear\"></ion-input>\n            </ion-item>\n            <ion-item>\n              <ion-label position=\"floating\">CVV</ion-label>\n              <ion-input type=\"text\" [(ngModel)]=\"cvv\" name=\"cvv\"></ion-input>\n            </ion-item>\n            <div id=\"card-errors\" role=\"alert\"></div>\n          </div>\n\n          <ion-button shape=\"round\" expand=\"block\" size='large' type=\"submit\" color=\"primary\">\n            <ion-icon *ngIf=\"!approve\" color='light' slot=\"icon-only\" name=\"checkmark-sharp\"></ion-icon>\n            <ion-progress-bar *ngIf=\"approve\" color='light' type=\"indeterminate\"></ion-progress-bar>\n            <ion-label *ngIf=\"!approve\">Proceed</ion-label>\n          </ion-button>\n        </form>\n      </ion-card-content>\n    </ion-card>\n  </ion-list>\n\n  <ion-list lines=\"none\" class=\"ion-padding-bottom\">\n    <ion-list-header class=\"ion-text-center\">\n      <ion-label color=\"primary\">Payment Methods</ion-label>\n    </ion-list-header>\n    <ion-radio-group *ngIf=\"cards\" [value]=\"selectedCard\">\n      <ion-item *ngFor=\"let card of cards\" (click)=\"chooseCard(card)\">\n        <ion-label>\n          <h1 color=\"primary\">{{ card.name }}</h1>\n          <p>{{ card.type }}</p>\n        </ion-label>\n        <ion-radio slot=\"start\" [value]=\"card.name\"></ion-radio>\n        <ion-icon *ngIf=\"card.type == cash\" color='success' slot=\"end\" name=\"cash-sharp\"></ion-icon>\n        <ion-icon *ngIf=\"card.type != cash\" color='primary' slot=\"end\" name=\"card-sharp\"></ion-icon>\n      </ion-item>\n    </ion-radio-group>\n  </ion-list>\n\n  <ion-list *ngIf=\"!cards\" lines=\"none\" class=\"ion-padding-bottom\">\n    <ion-radio-group>\n      <ion-item *ngFor=\"let item of skeletOns\">\n        <ion-label><ion-skeleton-text [animated]=\"true\"></ion-skeleton-text></ion-label>\n        <ion-skeleton-text [animated]=\"true\" style=\"width: 30px;\"></ion-skeleton-text>\n        <ion-skeleton-text slot=\"end\" [animated]=\"true\" style=\"width: 30px;\"></ion-skeleton-text>\n      </ion-item>\n    </ion-radio-group>\n  </ion-list>\n\n  <ion-list-header>\n    <ion-label color=\"primary\" class=\"ion-text-center test\">\n      <h1>Test Card</h1>\n      <p>4242424242424242 2/25 544 1324</p>\n    </ion-label>\n  </ion-list-header>\n</ion-content>\n"],"names":["ElementRef","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PaymentPage_ion_radio_group_42_ion_item_1_Template_ion_item_click_0_listener","restoredCtx","ɵɵrestoreView","_r10","card_r6","$implicit","ctx_r9","ɵɵnextContext","ɵɵresetView","chooseCard","ɵɵtemplate","PaymentPage_ion_radio_group_42_ion_item_1_ion_icon_7_Template","PaymentPage_ion_radio_group_42_ion_item_1_ion_icon_8_Template","ɵɵadvance","ɵɵtextInterpolate","name","type","ɵɵproperty","ctx_r5","cash","PaymentPage_ion_radio_group_42_ion_item_1_Template","ctx_r3","selectedCard","cards","PaymentPage_ion_list_43_ion_item_2_Template","ctx_r4","skeletOns","PaymentPage","constructor","prof","nav","http","alertCtrl","overlay","formBuilder","paystack","ionViewDidEnter","setupPaystack","getCards","subscribe","d","console","log","forEach","element","selected","event","_this","_asyncToGenerator","showLoader","updateCArd","number","id","hideLoader","_this2","initializeOptions","publicKey","production","initialize","error","handlePaystackPayment","_this3","preventDefault","approve","addCard","cardNumber","expiryMonth","expiryYear","cvv","setChargeEmail","email","setChargeAmount","amount","putChargeCustomFields","customField1","customField2","putChargeMetadata","metaData1","metaData2","addChargeParameters","param1","param2","chargeResponse","chargeCard","reference","showToast","createCard","slice","showAlert","message","showPaymentAlert","title","subtitle","canLeave","_this4","alert","create","header","subHeader","buttons","text","role","handler","pop","backdropDismiss","present","ngOnInit","ɵɵdirectiveInject","i1","AvatarService","i2","NavController","i3","HttpClient","AlertController","i4","OverlayService","i5","FormBuilder","i6","PaystackPlugin","selectors","viewQuery","PaymentPage_Query","rf","ctx","PaymentPage_Template_form_submit_15_listener","$event","PaymentPage_Template_ion_input_ngModelChange_20_listener","PaymentPage_Template_ion_input_ngModelChange_24_listener","PaymentPage_Template_ion_input_ngModelChange_28_listener","PaymentPage_Template_ion_input_ngModelChange_32_listener","PaymentPage_ion_icon_35_Template","PaymentPage_ion_progress_bar_36_Template","PaymentPage_ion_label_37_Template","PaymentPage_ion_radio_group_42_Template","PaymentPage_ion_list_43_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}