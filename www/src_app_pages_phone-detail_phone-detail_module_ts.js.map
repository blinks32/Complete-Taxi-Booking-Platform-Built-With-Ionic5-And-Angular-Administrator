{"version":3,"file":"src_app_pages_phone-detail_phone-detail_module_ts.js","mappings":"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","sources":["./src/app/pages/phone-detail/phone-detail-routing.module.ts","./src/app/pages/phone-detail/phone-detail.module.ts","./src/app/pages/phone-detail/phone-detail.page.ts","./src/app/pages/phone-detail/phone-detail.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PhoneDetailPage } from './phone-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PhoneDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PhoneDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PhoneDetailPageRoutingModule } from './phone-detail-routing.module';\n\nimport { PhoneDetailPage } from './phone-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    PhoneDetailPageRoutingModule\n  ],\n  declarations: [PhoneDetailPage]\n})\nexport class PhoneDetailPageModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Auth, linkWithCredential, PhoneAuthProvider } from '@angular/fire/auth';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalController, NavController, ModalOptions } from '@ionic/angular';\nimport { OtpComponent } from 'src/app/otp/otp.component';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { environment } from 'src/environments/environment';\n\n\n@Component({\n  selector: 'app-phone-detail',\n  templateUrl: './phone-detail.page.html',\n  styleUrls: ['./phone-detail.page.scss'],\n})\nexport class PhoneDetailPage implements OnInit {\n  form: FormGroup;\n  CountryCode: any = '+1';\n  CountryJson = environment.CountryJson;\n  flag: any = \"https://cdn.kcak11.com/CountryFlags/countries/ng.svg\";\n  user: any;\n  approve: boolean;\n  approve2: boolean;\n  details: any;\n  constructor(\n    private modalCtrl: ModalController,\n    private auth: AuthService,\n    private authy: Auth,\n    private router: Router,\n    private nav: NavController,\n    private authY: Auth,\n    private avatar: AvatarService,\n    private overlay: OverlayService,\n    private route: ActivatedRoute,\n  ) { \n\n    \n  }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.details = params[\"details\"];\n  });\n    this.form = new FormGroup({\n      phone: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(10), Validators.maxLength(10)]\n      }),\n    });\n  }\n\n\n  countryCodeChange($event) {\n    console.log($event.detail.value.toString());\n    this.CountryCode = $event.detail.value.toString();\n  }\n\n  async signIn() {\n    if (!this.approve2)\n    try {\n      if (!this.form.valid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      console.log(this.form.value);\n      this.approve2 = true;\n\n      console.log(this.details);\n  \n      const response = await this.auth.signInWithPhoneNumber(this.CountryCode + this.form.value.phone);\n  \n      this.approve2 = false;\n      const options: ModalOptions = {\n        component: OtpComponent,\n        componentProps: {\n          phone: this.form.value.phone,\n          countryCode: this.CountryCode,\n        },\n        swipeToClose: true\n      };\n      const modal = this.modalCtrl.create(options);\n      (await modal).present();\n      const data: any = (await modal).onWillDismiss();\n      this.authy.onAuthStateChanged(async (user)=>{\n        if (user){\n      const result = await this.avatar.createUser(this.details.user.displayName, this.details.user.email, this.details.user.photoURL || '', this.CountryCode + this.form.value.phone, user.uid)\n      await this.avatar.createCard('Cash', 0, 'cash', 'None')\n      this.router.navigateByUrl('home');\n        }\n        this.overlay.hideLoader();\n      })\n      \n    } catch(e) {\n      console.log(e);\n      this.overlay.showAlert('Error', JSON.stringify(e));\n      this.approve2 = false;\n    }\n  }\n\n}\n","\n\n<ion-header [translucent]=\"true\" class=\"ion-no-border\">\n  <ion-list lines=\"none\">\n    <ion-list-header class=\"ion-padding-top\" >\n      <ion-label color=\"primary\" class=\"ion-text-center\">\n        <h1>Enter Phone Number</h1>\n        </ion-label>\n  </ion-list-header>\n\n\n      \n    <ion-item-group class=\"ion-margin-horizontal\">\n      <form [formGroup]=\"form\">\n\n        <div id=\"sign-in-button\"></div>\n\n        <div class=\"ion-margin-vertical\">\n          \n          <ion-item class=\"ion-margin\">\n               <ion-label>{{CountryCode}}</ion-label>\n              <ion-select interface=\"action-sheet\" (ionChange)=\"countryCodeChange($event)\">\n                <ion-select-option *ngFor=\"let country of CountryJson\">\n                    {{country.dialCode}} {{country.name}}\n                </ion-select-option>\n              </ion-select>\n         \n\n            <ion-input \n              formControlName=\"phone\" \n              placeholder=\"Enter Mobile Number\" \n              type=\"tel\"\n              clearInput\n              minlength=\"10\"\n              maxlength=\"10\">\n            </ion-input>\n          </ion-item>\n\n\n          <ion-text *ngIf=\"!form.get('phone').valid && form.get('phone').touched\">\n            <ion-text class=\"error\" *ngIf=\"form.get('phone').hasError('required')\" color=\"danger\">\n              * Please enter the Mobile Number\n            </ion-text>\n            <ion-text class=\"error\" *ngIf=\"form.get('phone').hasError('minlength') \n              && !form.get('phone').hasError('required')\" color=\"danger\">\n              * Please enter a valid Mobile Number\n            </ion-text>\n          </ion-text>\n            \n        </div>\n\n        \n            <ion-button shape=\"round\" size=\"large\" type=\"submit\" [disabled]=\"!form.get('phone').valid\" color=\"secondary\" (click)=\"signIn()\" expand=\"block\">\n              <ion-label *ngIf=\"!approve2\">Continue</ion-label>\n              <ion-icon *ngIf=\"!approve2\" color='light' slot=\"end\" name=\"arrow-forward\"></ion-icon>\n              <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n            </ion-button>\n        \n\n      </form>\n\n\n    \n\n    </ion-item-group>\n\n\n\n\n      </ion-list>\n</ion-header>\n\n\n<ion-content class=\"ion-no-border\">\n\n    <ion-list class=\"ion-no-padding\" lines=\"none\">\n     \n    </ion-list>\n\n\n</ion-content>"],"names":["Auth","FormControl","FormGroup","Validators","OtpComponent","environment","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","country_r5","dialCode","name","ɵɵtemplate","PhoneDetailPage_ion_text_16_ion_text_1_Template","PhoneDetailPage_ion_text_16_ion_text_2_Template","ɵɵproperty","ctx_r1","form","get","hasError","ɵɵelement","PhoneDetailPage","constructor","modalCtrl","auth","authy","router","nav","authY","avatar","overlay","route","CountryCode","CountryJson","flag","ngOnInit","queryParams","subscribe","params","details","phone","validators","required","minLength","maxLength","countryCodeChange","$event","console","log","detail","value","toString","signIn","_this","_asyncToGenerator","approve2","valid","markAllAsTouched","response","signInWithPhoneNumber","options","component","componentProps","countryCode","swipeToClose","modal","create","present","data","onWillDismiss","onAuthStateChanged","_ref","user","result","createUser","displayName","email","photoURL","uid","createCard","navigateByUrl","hideLoader","_x","apply","arguments","e","showAlert","JSON","stringify","ɵɵdirectiveInject","i1","ModalController","i2","AuthService","i3","i4","Router","NavController","i5","AvatarService","i6","OverlayService","ActivatedRoute","selectors","decls","vars","consts","template","PhoneDetailPage_Template","rf","ctx","ɵɵlistener","PhoneDetailPage_Template_ion_select_ionChange_13_listener","PhoneDetailPage_ion_select_option_14_Template","PhoneDetailPage_ion_text_16_Template","PhoneDetailPage_Template_ion_button_click_17_listener","PhoneDetailPage_ion_label_18_Template","PhoneDetailPage_ion_icon_19_Template","PhoneDetailPage_ion_progress_bar_20_Template","ɵɵtextInterpolate","touched"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}