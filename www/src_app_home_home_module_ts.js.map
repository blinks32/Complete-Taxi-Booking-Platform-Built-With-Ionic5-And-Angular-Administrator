{"version":3,"file":"src_app_home_home_module_ts.js","mappings":"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","sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.ts","./src/app/home/home.page.html","./src/app/services/geocode.service.ts","./src/app/services/map.service.ts","./src/app/services/network.service.ts","./node_modules/@capacitor/geolocation/dist/esm/index.js","./node_modules/@capacitor/google-maps/dist/esm/definitions.js","./node_modules/@capacitor/google-maps/dist/esm/implementation.js","./node_modules/@capacitor/google-maps/dist/esm/index.js","./node_modules/@capacitor/google-maps/dist/esm/map.js","./node_modules/@capacitor/preferences/dist/esm/index.js","./node_modules/rxjs/_esm2015/internal/observable/interval.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { StorageModule } from '@angular/fire/storage';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    StorageModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { AfterViewInit, Component, ElementRef, NgZone, ViewChild } from '@angular/core';\nimport { Geolocation, Position } from '@capacitor/geolocation';\nimport { ModalOptions, ModalController, Platform, NavController, AlertController, ToastController, ActionSheetController } from '@ionic/angular';\nimport { AutocompleteComponent } from '../autocomplete/autocomplete.component';\nimport { OverlayService } from '../services/overlay.service';\nimport { GeocodeService } from '../services/geocode.service';\nimport { MapService } from '../services/map.service';\nimport { AvatarService } from '../services/avatar.service';\nimport { Drivers } from '../interfaces/drivers';\nimport { Observable, timer, interval, BehaviorSubject, throwError, Subscription } from 'rxjs';\nimport { Firestore, onSnapshot, doc, updateDoc, getDoc } from '@angular/fire/firestore';\nimport { Marker, Polyline } from '@capacitor/google-maps';\nimport { AuthService } from '../services/auth.service';\nimport { EnrouteChatComponent } from '../enroute-chat/enroute-chat.component';\nimport { NetworkService } from '../services/network.service'\nimport { Network } from '@capacitor/network';\nimport { Preferences } from '@capacitor/preferences';\nimport { Router } from '@angular/router';\nimport { App } from '@capacitor/app';\nimport { PaymentService } from '../services/payment.service';\nimport { AddCardComponent } from '../add-card/add-card.component';\nimport { timeStamp } from 'console';\nimport { switchMap } from 'rxjs/operators';\nimport { LatLngLiteral } from '@googlemaps/google-maps-services-js';\nimport { LatLng } from '@capacitor/google-maps/dist/typings/definitions';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements AfterViewInit {\n  [x: string]: any;\n  profile = null;\n  @ViewChild('map',  { static: true }) mapRef: ElementRef<HTMLElement>;\n  @ViewChild('topBar', { static: true }) topBar: ElementRef<HTMLElement>;\n  @ViewChild('bottomBar', { static: true }) bottomBar: ElementRef<HTMLElement>;\n  mappy;\n  @ViewChild('mapElement') mapElement: ElementRef<HTMLElement>;\n  coordinates: Position;\n  address: any = 'Unknown';\n  bookingStage: any;\n  confirmStage: any;\n  trackingStage: any;\n  searchingStage: any;\n  noDriverStage: any;\n  drivingToDestinationStage: any;\n  data: any;\n  cash: any = false;\n  state: any = [];\n  mapPinStage: boolean;\n  D_LatLng: { lat: any; lng: any; };\n  mapPinDrag: any;\n  showResetLocationButton: any = false;\n  showloader: boolean;\n  mapClass: any;\n  destinationAddress: string = 'Drag To Pick Destination';\n  locationAddress: string = null;\n  distance: any;\n  direction: any;\n  actualDestination: any;\n  markers: any;\n  allDrivers: Observable<Drivers[]>;\n  NoDrivers: boolean;\n  driverMarker: string;\n  driver_duration_apart: number;\n  driver_number_of_seats: any;\n  price: any = 0;\n  carname: any;\n  driver_ID: any;\n  bounds: any;\n  DriverLatLng: { lat: any; lng: any; };\n  drivers_Requested: any[];\n  current_Request_Number: number = -1;\n  Driver_Rejected: any;\n  numCalls: any;\n  currentDriver: any;\n  private countdownActive = false;\n\n  unsubscribe: import(\"@angular/fire/firestore\").Unsubscribe;\n  driverInfo: import(\"@angular/fire/firestore\").DocumentData;\n  private RIDE_KEY = 'currentRide';\n  duration: any = null;\n  riderCleared: any;\n  updateDriverSubcription: any;\n  canCheck: boolean;\n  marker1: any;\n  marker2: any;\n  actualLocation: string;\n  LatLng: { lat: number; lng: number; };\n  mapy: boolean;\n  AllCarMarkers: Marker[];\n  private _carmarkers: { id: string, marker: any }[] = [];\n  private rider_marker: any;\n  private driver_marker: any;\n\n\n  cards: import(\"@angular/fire/firestore\").DocumentData[];\n  selected: any;\n  selectedCard: any;\n  closeDrivers: any;\n  countDown: any;\n  places: import(\"@angular/fire/firestore\").DocumentData[];\n  newPoly: string[];\n  isConnected: boolean;\n  private watchId: any;\n  private networkStatus$ = new BehaviorSubject<boolean>(true);\n  pollingInterval: any;\n  animatedMarker: any;\n  driverImage: any;\n  private permissionCheckInterval: any;\n  savedPaymentMethods: any;\n  requestID: string;\n  rideHasStarted: boolean;\n  driverLocation: { lat: number, lng: number } | null = null;\n  stopPolling: boolean = false;\n  riderMarker: string;\n  routePath: google.maps.MVCArray<google.maps.LatLng> | (google.maps.LatLng | google.maps.LatLngLiteral)[];\n  destinationMarker: any;\n  D_duration: any;\n  routePolyline: any;\n  private routeUpdateSubscription: Subscription;\n\n\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private networkService: NetworkService,\n    public map: MapService,\n    private nav: NavController,\n    private platform: Platform,\n    private firestore: Firestore,\n    private readonly database: AvatarService,\n    private ngZone: NgZone,\n    private geocode: GeocodeService,\n    private overlay: OverlayService,\n    private modalCtrl: ModalController,\n    private alert: AlertController,\n    private payME: PaymentService,\n    private toastController: ToastController,\n    private actionSheetController: ActionSheetController\n  \n  ) {\n    this.initializeApp();\n  }\n\n  async ngOnDestroy() {\n    window.removeEventListener('resize', this.setMapHeight.bind(this));\n    this.clearSubscriptions();\n    this.unsubscribe();\n    await this.clearPrevMarkers();\n    await this.clearPolyline(this.newPoly);\n  }\n\n\n  async ngAfterViewInit() {\n    try {\n      console.log('Map container height:', this.mapRef.nativeElement.offsetHeight);\n      this.initializeBackButtonCustomHandler();\n  \n      // this.setMapHeight();\n      // window.addEventListener('resize', this.setMapHeight.bind(this));\n\n      await this.initializeNetworkMonitoring();\n      await this.fetchSavedPaymentMethods();\n      this.EnterBookingStage();\n      await this.initializeGeolocation();\n      await this.initializeMap();\n      this.initializeDatabaseSubscriptions();\n      this.setupMapListeners();\n      await this.map.newMap.enableCurrentLocation(true);\n\n\n  \n      this.price = null;\n  \n      if (this.LatLng && this.LatLng.lat && this.LatLng.lng) {\n        const center: [number, number] = [this.LatLng.lat, this.LatLng.lng];\n        const radiusInM = 5000; // Example radius in meters\n        await this.fetchAndDisplayDrivers(center, radiusInM);\n      }\n  \n      \n    } catch (e) {\n      console.error('Error in ngAfterViewInit:', e);\n      this.overlay.showAlert('Error in ngAfterViewInit:', 'An error occurred during initialization. Please try again.');\n    }\n  }\n  \n  \n  async fetchSavedPaymentMethods() {\n    try {\n      this.savedPaymentMethods = await this.database.getSavedPaymentMethods();\n      console.log('Saved Payment Methods:', this.savedPaymentMethods);\n      \n      // Set default payment method to cash if no cards are saved\n      if (this.savedPaymentMethods.length === 0) {\n        this.selectedCard = 'cash';\n        this.cash = true;\n      } else {\n        this.selectedCard = this.savedPaymentMethods[0].cardId;\n        this.cash = false;\n      }\n    } catch (error) {\n      console.error('Error fetching saved payment methods:', error);\n    }\n  }\n\n  chooseCard(event: any) {\n    this.selectedCard = event.detail.value;\n    this.cash = this.selectedCard === 'cash';\n    if (!this.cash) {\n     // this.processPayment(this.authService.user.email, this.defaultAmount, this.selectedCard);\n    }\n  }\n\n  async processPayment(email: string, amount: number, cardId: any) {\n    this.overlay.showLoader('');\n\n    try {\n      const paymentResult = await this.payME.processPaymentWithCardId(email, amount, cardId).toPromise();\n      console.log('Payment successful:', paymentResult);\n      await this.overlay.showAlert('Success', 'Payment successful!');\n    } catch (error) {\n      console.error('Error during payment:', error);\n      const errorMessage = error.error ? error.error.error : 'An unexpected error occurred.';\n      await this.showPaymentErrorModal(errorMessage);\n    } finally {\n      this.overlay.hideLoader();\n    }\n  }\n\n  async showPaymentErrorModal(errorMessage: string) {\n    const alert = await this.alert.create({\n      header: 'Payment Error',\n      message: errorMessage,\n      buttons: [\n        {\n          text: 'Add New Card',\n          handler: async () => {\n            const modal = await this.modalCtrl.create({\n              component: AddCardComponent, // Create this component to handle adding a new card\n            });\n            await modal.present();\n            const { data } = await modal.onWillDismiss();\n            if (data && data.newCardId) {\n              this.selectedCard = data.newCardId;\n              this.cash = false;\n            }\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n\n  setMapHeight() {\n    if (this.topBar && this.bottomBar) {\n      const topBarHeight = this.topBar.nativeElement.offsetHeight;\n      const bottomBarHeight = this.bottomBar.nativeElement.offsetHeight;\n      const availableHeight = window.innerHeight - topBarHeight - bottomBarHeight;\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n    }\n  }\n\n  setMapHeightCreateAndAddMarkers() {\n    if (this.topBar && this.bottomBar) {\n      const topBarHeight = this.topBar.nativeElement.offsetHeight;\n      const bottomBarHeight = this.bottomBar.nativeElement.offsetHeight;\n      const availableHeight = window.innerHeight - topBarHeight - bottomBarHeight + 200;\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n    }\n  }\n\n  setMapHeightHandleDrivertoRider() {\n    if (this.bottomBar) {\n      const bottomBarHeight = this.bottomBar.nativeElement.offsetHeight;\n      const availableHeight = window.innerHeight - bottomBarHeight - 14;\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n    }\n  }\n\n  setMapHeightHandleDrivertoDestination() {\n    if (this.bottomBar) {\n      const bottomBarHeight = this.bottomBar.nativeElement.offsetHeight;\n      const availableHeight = window.innerHeight - bottomBarHeight + 90;\n      this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n    }\n  }\n\n  private async initializeNetworkMonitoring() {\n    const status = await Network.getStatus();\n    this.isConnected = status.connected;\n    this.networkStatus$.next(this.isConnected);\n    console.log('Network monitoring initialized. Initial status:', this.isConnected);\n\n    Network.addListener('networkStatusChange', (status) => {\n      console.log('Network status changed:', status);\n      this.isConnected = status.connected;\n      this.networkStatus$.next(this.isConnected);\n    });\n\n    this.networkStatus$.subscribe((isConnected) => {\n      if (isConnected) {\n        this.router.navigate(['home']);\n      } else {\n        this.router.navigate(['network']);\n      }\n    });\n  }\n\n\n  initializeApp() {\n    this.platform.ready().then(async () => {\n      const rideData = await this.getRideState();\n      if (rideData) {\n        console.log(\"There is some ridedata in here....\");\n       // this.restoreRideState(rideData);\n      }\n    });\n  }\n\n  async saveRideState(rideData: any): Promise<void> {\n    const RIDE_KEY = 'rideState';\n\n    await Preferences.set({\n      key: RIDE_KEY,\n      value: JSON.stringify(rideData)\n    });\n  }\n  \n  async getRideState(): Promise<any> {\n    const RIDE_KEY = 'rideState';\n\n    const { value } = await Preferences.get({ key: RIDE_KEY });\n    return value ? JSON.parse(value) : null;\n  }\n  \n  async clearRideState(): Promise<void> {\n    const RIDE_KEY = 'rideState';\n\n    await Preferences.remove({ key: RIDE_KEY });\n  }\n  // Method to restore the ride state\n  restoreRideState(rideData: any) {\n    // Set necessary variables to restore the ride state\n    this.current_Request_Number = rideData.current_Request_Number;\n    this.price = rideData.price;\n    this.actualDestination = rideData.actualDestination;\n    this.D_LatLng = rideData.D_LatLng;\n    this.destinationAddress = rideData.destinationAddress;\n    this.LatLng = rideData.LatLng;\n  \n    // Restore map state and markers\n    this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n    });\n  \n    this.createAndAddMarkers(this.LatLng, this.D_LatLng);\n  \n    // Navigate to the appropriate stage\n    if (rideData.stage) {\n      this.setStage(rideData.stage);\n    }\n  }\n\n  \n \n  async initializeGeolocation() {\n    try {\n      // Check existing permissions\n      let permissionStatus = await Geolocation.checkPermissions();\n  \n      if (permissionStatus.location !== 'granted') {\n        // Request permissions\n        const permissionRequest = await Geolocation.requestPermissions();\n        permissionStatus = permissionRequest;\n  \n        if (permissionRequest.location !== 'granted') {\n          // If the user still hasn't granted permission, prompt them to enable location services\n          await this.overlay.showLoader('Enable Device Location...');\n          this.startPermissionPolling();\n          return;\n        }\n      }\n  \n      // If permission is granted, dismiss any alert if shown\n      this.overlay.hideLoader();\n  \n      // Try to get the current position\n      const coordinates = await Geolocation.getCurrentPosition();\n      this.coordinates = coordinates;\n      this.LatLng = {\n        lat: coordinates.coords.latitude,\n        lng: coordinates.coords.longitude\n      };\n      this.database.updateLocation(this.LatLng);\n      console.log('Geolocation initialized:', this.LatLng);\n  \n      // Start polling the user's position\n      this.startPollingPosition();\n    } catch (error) {\n      console.error('Error initializing geolocation:', error);\n      // If any error occurs, prompt the user to enable location services\n      await this.overlay.showLoader('Enable Device Location...');\n      this.startPermissionPolling();\n    }\n  }\n  \n  startPermissionPolling() {\n    this.permissionCheckInterval = setInterval(async () => {\n      const permissionStatus = await Geolocation.checkPermissions();\n      if (permissionStatus.location === 'granted') {\n        this.overlay.hideLoader();\n        clearInterval(this.permissionCheckInterval);\n        // Try to get the current position again if permissions are granted\n        const coordinates = await Geolocation.getCurrentPosition();\n        this.coordinates = coordinates;\n        this.LatLng = {\n          lat: coordinates.coords.latitude,\n          lng: coordinates.coords.longitude\n        };\n        console.log('Geolocation initialized:', this.LatLng);\n  \n        // Start polling the user's position\n        this.startPollingPosition();\n      }\n    }, 1000); // Check every second\n  }\n\n  \n  startPollingPosition() {\n    let lastLatLng = { lat: null, lng: null };\n    let lastAddress = null;\n  \n    this.pollingInterval = setInterval(async () => {\n      try {\n        const position = await Geolocation.getCurrentPosition();\n        const newLatLng = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        };\n\n        this.database.updateLocation(newLatLng);\n  \n        if (this.hasSignificantLocationChange(lastLatLng, newLatLng, 50)) { // Check if moved at least 50 meters\n          lastLatLng = newLatLng;\n  \n          const address = await this.map.getAddress(newLatLng.lat, newLatLng.lng);\n          \n          if (address && address.results && address.results.length > 1) {\n            const components = address.results[1].address_components;\n            if (components.length >= 2) {\n              this.locationAddress = components[0].long_name + ' ' + components[1].long_name;\n              this.actualLocation = address.results[0].formatted_address;\n              if (this.locationAddress !== lastAddress) {\n                console.log('Updated Location Address:', this.locationAddress);\n                lastAddress = this.locationAddress;\n              }\n            }\n          } else {\n            console.log('Unable to update location address');\n          }\n        }\n  \n        if (this.networkService.isConnected() && !this.stopPolling) {\n          const center: [number, number] = [newLatLng.lat, newLatLng.lng];\n          const radiusInM = 5000; // Example radius in meters\n          await this.fetchAndDisplayDrivers(center, radiusInM);\n        } else {\n          console.log('No network connection.', this.stopPolling);\n        }\n      } catch (err) {\n        console.error('Error getting position:', err);\n        // Reduce error alerts by not showing specific errors repeatedly\n      }\n    }, 5000); // Poll every 10 seconds\n  }\n  \n  hasSignificantLocationChange(oldLatLng, newLatLng, minDistance) {\n    if (!oldLatLng.lat || !oldLatLng.lng) return true;\n    \n    const R = 6371e3; // Earth radius in meters\n    const φ1 = oldLatLng.lat * Math.PI/180;\n    const φ2 = newLatLng.lat * Math.PI/180;\n    const Δφ = (newLatLng.lat - oldLatLng.lat) * Math.PI/180;\n    const Δλ = (newLatLng.lng - oldLatLng.lng) * Math.PI/180;\n  \n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  \n    const distance = R * c; // Distance in meters\n  \n    return distance >= minDistance;\n  }\n\n  \n  stopPollingPosition() {\n    if (this.pollingInterval) {\n      clearInterval(this.pollingInterval);\n      this.pollingInterval = null;\n      console.log('Stopped polling position.');\n    } else {\n      console.log('No polling to stop.');\n    }\n  }\n  \n  async initializeMap() {\n    try {\n      await this.map.createMap(this.mapRef.nativeElement, this.coordinates);\n      this.mapy = true;\n      this.actualLocation = this.map.actualLocation;\n     // console.log('Map initialized:', this.actualLocation, this.locationAddress);\n    } catch (error) {\n      //console.error('Error initializing map:', error);\n      throw new Error('Map initialization failed');\n    }\n  }\n  \n  initializeDatabaseSubscriptions() {\n    this.database.getKnownPlaces().subscribe((d) => {\n      console.log('Received data:', d);\n      this.places = d.slice(0, 3);\n    });\n  }\n\n\n  initializeBackButtonCustomHandler(): void {\n    this.platform.backButton.subscribeWithPriority(10, () => {\n      console.log('Back button pressed');\n    });\n  \n    App.addListener('backButton', ({ canGoBack }) => {\n      if (!canGoBack) {\n        // Show a confirmation dialog before exiting the app\n        if (confirm('Are you sure you want to exit the app?')) {\n          App.exitApp();\n        }\n      } else {\n        console.log(\"back clicked\");\n        // Use Ionic's NavController to navigate back\n        // Replace 'NavController' with your specific navigation method\n        // this.navCtrl.pop();\n        window.history.back();\n      }\n    });\n\n    // App.addListener('appStateChange', (state) => {\n    //   if (!state.isActive) {\n    //     this.stopPollingPosition();\n    //   } else {\n    //     this.startPollingPosition();\n    //   }\n    // });\n  }\n  \n\n\n  \n  setupMapListeners() {\n    this.map.newMap.setOnCameraIdleListener(async (g) => {\n      this.ngZone.run(async () => {\n        this.showResetLocationButton = true;\n        if (this.mapPinStage) {\n          const addressResponse = await this.geocode.getAddress(g.latitude, g.longitude).toPromise();\n          this.processAddressResponse(addressResponse);\n        }\n      });\n    });\n  }\n  \n  async logout() {\n    await this.authService.logout();\n  }\n  \n  async fetchAndDisplayDrivers(center: [number, number], radiusInM: number): Promise<void> {\n    try {\n      const drivers: Drivers[] = await this.database.checkDriversWithin(center, radiusInM);\n      console.log('Fetched drivers:', drivers);\n  \n      await this.handleDrivers(drivers);\n  \n      if (this.drivers_Requested.length > 0) {\n        this.current_Request_Number = 0; // Set to the first available driver\n        await this.UpdateCarMarker(this.drivers_Requested);\n        this.NoDrivers = false;\n      } else {\n        this.current_Request_Number = -1; // No valid driver\n        await this.UpdateCarMarker([]); // Clear all markers if no drivers are requested\n        this.NoDrivers = true;\n      }\n    } catch (error) {\n      console.error('Error fetching drivers:', error);\n      this.current_Request_Number = -1; // Reset the request number\n      await this.UpdateCarMarker([]); // Clear all markers if there's an error\n      this.NoDrivers = true;\n    }\n  }\n  \n  \n  async handleDrivers(drivers: Drivers[]) {\n    this.drivers_Requested = [];\n    this.closeDrivers = null;\n  \n    console.log('Handling drivers:', drivers);\n  \n    if (drivers.length === 0) {\n      this.NoDrivers = true;\n      console.log('No drivers found.');\n      return;\n    }\n  \n    drivers.forEach((driver) => {\n      if (driver) {\n        console.log('Processing driver:', driver);\n        if (driver.duration <= 1000 && driver.onlineState) {\n          this.drivers_Requested.push(driver);\n          this.updateDriverInfo(driver);\n        }\n  \n        if (!this.closeDrivers || driver.duration < this.closeDrivers.duration) {\n          this.closeDrivers = driver;\n        }\n      } else {\n        console.error('Driver is null or undefined:', driver);\n      }\n    });\n  \n    if (this.drivers_Requested.length === 0) {\n      this.NoDrivers = true;\n    } else {\n      // Ensuring current_Request_Number is within the bounds\n      this.current_Request_Number = Math.min(this.current_Request_Number, this.drivers_Requested.length - 1);\n    }\n  \n    console.log('Final requested drivers list:', this.drivers_Requested);\n  }\n  \n   // Unsubscribe from all active listeners (for cleanup)\n   cleanupListeners() {\n    Object.values(this.database.activeListeners).forEach(unsubscribe => unsubscribe());\n    this.database.activeListeners = {};\n  }\n \n  \n  updateDriverInfo(driver) {\n    console.log(this.drivers_Requested);\n    this.carname = driver.Driver_car;\n    this.driverImage = driver.Driver_imgUrl,\n    this.driver_duration_apart = Math.ceil(driver.duration / 60000);\n    this.driver_ID = driver.Driver_id;\n    this.driver_number_of_seats = driver.seats;\n    this.DriverLatLng = {\n      lat: driver.Driver_lat,\n      lng: driver.Driver_lng\n    };\n  }\n  \n  async StartRide() {\n    try {\n      this.overlay.showLoader('');\n      await this.clearPrevMarkers();\n      // Clear any existing polylines\n    await this.clearPolyline(this.newPoly);\n\n    const availableHeight = 1000;\n\n    this.map.newMap.enableTouch();\n\n    // Ensure the map respects the boundaries of the top and bottom bars\n    this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n      this.map.newMap.enableCurrentLocation(false);\n      await this.BookRide();\n    } catch (e) {\n      this.overlay.showAlert('Starting Ride Error', e);\n    }\n  }\n\nasync clearMarkers() {\n  if (this.marker1) {\n    await this.map.newMap.removeMarker(this.marker1);\n    this.marker1 = null;\n  }\n\n  if (this.marker2) {\n    await this.map.newMap.removeMarker(this.marker2.toString());\n    this.marker2 = null;\n  }\n\n  if (this._carmarkers) {\n    for (const { marker } of this._carmarkers) {\n      await this.map.newMap.removeMarker(marker); // Assuming marker is the instance\n    }\n    this._carmarkers = []; // Clear the array after removing markers\n  }\n}\n\nasync BookRide() {\n  try {\n    if (this.hasValidDriver()) {\n      const driver = this.drivers_Requested[this.current_Request_Number];\n      const userDocRef = doc(this.firestore, `Drivers`, driver.Driver_id);\n      \n      // Fetch driver details once\n      const docSnapshot = await getDoc(userDocRef);\n      \n      if (docSnapshot.exists()) {\n        const data = docSnapshot.data();\n        console.log('Driver is offline', driver);\n        if (data && data.onlineState) {\n          this.driverInfo = data;\n          // Call requestRideWithDriverDetails to generate requestID and handle ride request\n          await this.requestRideWithDriverDetails(driver, userDocRef);\n          this.overlay.hideLoader();\n          this.updateDriverInfo(driver);\n          \n        } else {\n          console.log('Driver is offline');\n          await this.handleNoAvailableDriver();\n        }\n      } else {\n        console.error('Document does not exist.');\n        await this.handleNoAvailableDriver();\n      }\n    } else {\n      this.showNoDriversAlert();\n    }\n  } catch (error) {\n    console.error('Error in BookRide:', error);\n    this.overlay.showAlert('Error in BookRide:', 'An error occurred while booking the ride.');\n  }\n}\n\nhasValidDriver(): boolean {\n  return this.drivers_Requested?.[this.current_Request_Number]?.Driver_id != null;\n}\n\nasync requestRideWithDriverDetails(driver, userDocRef) {\n  try {\n    // Assume that this.database.RequestRideWithRiderDetails returns a Promise that resolves with the requestID\n    const requestDetails = {\n      latLng: this.LatLng,\n      destinationAddress: this.destinationAddress,\n      locationAddress: this.locationAddress,\n      dLatLng: this.D_LatLng,\n      driverId: driver.Driver_id,\n      price: this.price,\n      cash: this.cash\n    };\n\n    this.requestID = await this.database.RequestRideWithRiderDetails(requestDetails);\n\n    // Assuming the request was successful and the requestID was generated\n    if (this.requestID) {\n      this.currentDriver = driver;\n      this.handlePendingState();\n\n      // Optionally listen for updates on the specific ride request document\n      const rideRequestDocRef = doc(this.firestore, `Request`, this.requestID);\n      const unsub = onSnapshot(rideRequestDocRef, async (doc) => {\n        if (doc.exists()) {\n          await this.handleRideUpdates(doc);\n        } else {\n          console.error('Ride request document does not exist.');\n        }\n      });\n\n      // Store the unsubscribe function if you need to clear it later\n      this.unsubscribe = unsub;\n    } else {\n      throw new Error('Failed to generate requestID');\n    }\n  } catch (error) {\n    console.error('Error in requestRideWithDriverDetails:', error);\n    this.overlay.showAlert('Error in requestRideWithDriverDetails', 'An error occurred while requesting the ride.');\n  }\n}\n\nshowNoDriversAlert() {\n  console.error('No valid driver available to book a ride.');\n  this.overlay.showAlert('No Drivers ', 'No available drivers found. Please try again later.');\n}\n\nasync handleNoAvailableDriver() {\n  console.log('Driver is not available, moving to next.');\n  this.current_Request_Number++;\n  if (this.hasValidDriver()) {\n    await this.BookRide();\n  } else {\n    this.showNoDriversAlert();\n  }\n}\n\nasync requestNextDriver() {\n  console.log(\"Requested Next Driver\");\n  this.current_Request_Number++;\n  if (this.hasValidDriver()) {\n    console.log(\"Continua\");\n    await this.BookRide();\n  } else {\n    await this.ReturnHome();\n    this.showNoDriversAlert();\n  }\n}\n\n// Make sure to clear the subscription when it's no longer needed\nclearSubscriptions() {\n  if (this.numCalls) {\n    this.numCalls.unsubscribe();\n  }\n  if (this.countDown) {\n    this.countDown.unsubscribe();\n  }\n  if (this.unsubscribe) {\n    this.unsubscribe();\n  }\n  if (this.routeUpdateSubscription) {\n    this.routeUpdateSubscription.unsubscribe();\n  }\n}\n\nasync handleRideUpdates(doc) {\n  const data = doc.data();\n  if (!data) {\n    console.error('No data found in the document.');\n    return;\n  }\n  \n  switch (data.status) {\n    case 'cancelled':\n      await this.handleRideCancellation(data);\n      break;\n    case 'confirmed':\n      await this.handleRideConfirmation(doc);\n      break;\n    case 'started':\n      await this.handleRideStart(doc);\n      break;\n    case 'stopped':\n      await this.handleRideStop(doc);\n      break;\n    default:\n      console.error('Unknown ride status:', data.status);\n      break;\n  }\n}\n\n\nasync handlePendingState() {\n  console.log(\"now pending\", );\n  await this.getDriverLocation(this.currentDriver.Driver_id); // Fetch the latest driver location\n  console.log(\"This is the driver location: \" + this.DriverLatLng);\n\n  await this.clearPrevMarkers();\n  await this.clearPolyline(this.newPoly);\n\n  this.setMapHeightCreateAndAddMarkers();\n  window.addEventListener('resize', this.setMapHeightCreateAndAddMarkers.bind(this));\n\n  // Driver coming to the rider\n  await this.handleDriverToRider(this.DriverLatLng, this.LatLng);\n  this.overlay.hideLoader();\n  this.EnterSearchingStage();\n  await this.startCountdown(20, this.requestID);\n}\n\n\nasync presentCancelRideActionSheet() {\n  const actionSheet = await this.actionSheetController.create({\n    header: 'Cancel Ride',\n    buttons: [\n      {\n        text: 'Changed my mind',\n        handler: () => {\n          this.cancelRide('Changed my mind');\n        }\n      },\n      {\n        text: 'Driver took too long',\n        handler: () => {\n          this.cancelRide('Driver took too long');\n        }\n      },\n      {\n        text: 'Found another ride',\n        handler: () => {\n          this.cancelRide('Found another ride');\n        }\n      },\n      {\n        text: 'Other',\n        handler: () => {\n          this.cancelRide('Other');\n        }\n      },\n      {\n        text: 'Cancel',\n        role: 'cancel'\n      }\n    ]\n  });\n  await actionSheet.present();\n}\n\nasync cancelRide(reason: string) {\n  const rideRef = doc(this.firestore, 'Request', this.requestID);\n  await updateDoc(rideRef, {\n    status: 'cancelled',\n    cancellationReason: reason,\n    canceledBy: 'rider'\n  });\n  const toast = await this.toastController.create({\n    message: 'Ride has been cancelled.',\n    duration: 2000\n  });\n  await toast.present();\n}\n\n\n\nasync handleRideCancellation(data) {\n  this.stopCountdown();\n  await this.clearPrevMarkers();\n  this.unsubscribe();\n  this.clearSubscriptions();\n  if (this.drivers_Requested[this.current_Request_Number + 1] && !this.rideHasStarted) {\n    this.current_Request_Number++;\n    await this.BookRide();\n  } else {\n    if (data.canceledBy == 'driver') {\n      this.overlay.showAlert('Cancelled', 'Driver cancelled');\n    } \n    this.ClearRide();\n      this.ReturnHome();\n  }\n}\n\n\nasync handleRideStart(doc) {\n  await this.clearPrevMarkers();\n  await this.clearPolyline(this.newPoly);\n  this.currentDriver = doc.data();\n  this.rideHasStarted = true;\n  this.setMapHeightHandleDrivertoDestination();\n    window.addEventListener('resize', this.setMapHeightHandleDrivertoDestination.bind(this));\n      await this.handleRiderToDestination(this.DriverLatLng, this.D_LatLng);\n      this.canCheck = true;\n  \n  await this.saveRideState(this.currentDriver);\n  this.EnterDrivingToDestinationStage();\n}\n\nasync handleRideStop(doc) {\n  this.clearSubscriptions();\n  this.unsubscribe();\n  await this.clearPrevMarkers();\n  \n   await this.clearPolyline(this.newPoly);\n  await this.ReturnHome();\n  await this.database.createHistory(this.driverInfo);\n\n}\n\n\nasync handleRideConfirmation(doc) {\n  this.stopCountdown();\n  console.log(\"trtryyrry rettete\");\n  await this.clearPrevMarkers();\n  await this.clearPolyline(this.newPoly);\n \n  this.DriverLatLng = {\n    lat: this.driverLocation.lat,\n    lng: this.driverLocation.lng\n  };\n  console.log(this.DriverLatLng);\n    // Set map height before calculating zoom level\n    this.setMapHeightHandleDrivertoRider();\n    window.addEventListener('resize', this.setMapHeightHandleDrivertoRider.bind(this));\n\n    await this.handleDriverToRider(this.DriverLatLng, this.LatLng);\n  \n  this.EnterTrackingStage();\n}\n\n\ngetDriverLocation(driverId: string): void {\n  this.database.getDriverLocation(driverId)\n  .then(location => {\n    this.driverLocation = location;\n    console.log(this.driverLocation); // For testing purposes\n  })\n  .catch(error => {\n    console.error('Error fetching driver location:', error);\n  });\n}\n\n\n\nasync EnterChat(): Promise<void> {\nconst options: ModalOptions = {\n    component: EnrouteChatComponent,\n    componentProps: {\n        userId: this.requestID,\n        message: \"\"\n    },\n    swipeToClose: true,\n};\n\nconst modal = await this.modalCtrl.create(options);\nreturn await modal.present();\n}\n\nasync startCountdown(initialTime, requestId) {\n  this.countdownActive = true;\n  let timeRemaining = initialTime;\n\n  const updateCountdown = async () => {\n    if (!this.countdownActive) {\n      console.log('Countdown stopped');\n      return;\n    }\n\n    if (timeRemaining > 0) {\n      try {\n        await this.database.UpdateCountDown(timeRemaining, requestId);\n        timeRemaining--;\n        setTimeout(updateCountdown, 1000);\n      } catch (error) {\n        console.error('Error updating countdown:', error);\n        // Retry after a short delay\n        setTimeout(updateCountdown, 2000);\n      }\n    } else {\n      await this.handleCountdownEnd(requestId);\n      console.log('Countdown ended');\n    }\n  };\n\n  updateCountdown();\n}\n\nasync handleCountdownEnd(requestId) {\n  try {\n    // Implement a grace period to account for any delays\n    setTimeout(async () => {\n      await this.clearPrevMarkers();\n      await this.requestNextDriver();\n    }, 5000); // 5-second grace period\n  } catch (error) {\n    console.error('Error handling countdown end:', error);\n    // Optionally, retry the operation or notify the user\n  }\n}\n\n\nstopCountdown() {\n  this.countdownActive = false;\n}\n\nasync goBackToAutoComplete() {\n  try {\n    this.stopPolling = false;\n    // Enable current location and set the camera to the initial position\n    await this.map.newMap.enableCurrentLocation(true);\n    await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n    });\n\n    await this.ResetState();\n\n    await this.showAutocompleteModal();\n\n    console.log('Game state reset successfully');\n  } catch (error) {\n    console.error('Error resetting game state:', error);\n  }\n}\n\nprivate async clearPrevMarkers() {\n  try {\n     // Clear other markers\n     if (this.rider_marker) {\n      await this.clearMarker(this.rider_marker);\n      this.rider_marker = null;\n    }\n\n    // Clear other markers\n    if (this.driver_marker) {\n      await this.clearMarker(this.driver_marker);\n      this.driver_marker = null;\n    }\n\n    // Clear other markers\n    if (this.destinationMarker) {\n      await this.clearMarker(this.destinationMarker);\n      this.destinationMarker = null;\n    }\n\n    // Clear other markers\n    if (this.marker1) {\n      await this.clearMarker(this.marker1);\n      this.marker1 = null;\n    }\n\n    if (this.marker2) {\n      await this.clearMarker(this.marker2);\n      this.marker2 = null;\n    }\n\n    // Clear animated marker\n    if (this.animatedMarker) {\n      await this.clearMarker(this.animatedMarker);\n      this.animatedMarker = null;\n    }\n\n    if (this.routeUpdateSubscription) {\n      this.routeUpdateSubscription.unsubscribe();\n    }\n\n\n  } catch (e) {\n    console.error('Error clearing markers:', e);\n  }\n}\n\n\nprivate async clearMarker(marker) {\n  if (marker) {\n    try {\n      await this.map.newMap.removeMarker(marker);\n      console.log(\"Marker was cleared!\");\n    } catch (error) {\n      console.error('Error clearing marker:', error);\n    }\n  }\n}\n\n\n\nasync clearPolyline(polyline) {\n  if (polyline) {\n    try {\n      await this.map.newMap.removePolylines([polyline]);\n      console.log('Polyline cleared:', polyline);\n      this.newPoly = null;\n    } catch (error) {\n      console.error('Error clearing polyline:', error);\n    }\n  } else {\n    console.warn('No polyline to clear');\n  }\n}\n\nasync ResetState(){\n  try{\n    // Clear previous markers\n    await this.clearPrevMarkers();\n\n    // Clear any existing polylines\n    await this.clearPolyline(this.newPoly);\n\n    const availableHeight = 1024;\n\n    this.map.newMap.enableTouch();\n\n    // this.setMapHeight();\n    window.addEventListener('resize', this.setMapHeight.bind(this));\n\n    // Ensure the map respects the boundaries of the top and bottom bars\n    this.mapRef.nativeElement.style.height = `${availableHeight}px`;\n\n    // Reset important variables\n    this.current_Request_Number = 0;\n    this.price = null;\n    this.actualDestination = null;\n    this.D_LatLng = { lat: null, lng: null };\n    this.destinationAddress = 'Unknown location';\n    \n  }catch(e){\n    throw new Error(e);\n    \n  }\n}\n\nasync showAutocompleteModal(): Promise<void> {\n  const options: ModalOptions = {\n      component: AutocompleteComponent,\n      componentProps: {\n          LatLng: this.LatLng,\n          locationAddress: this.locationAddress,\n      },\n      swipeToClose: true,\n  };\n\n  const modal = await this.modalCtrl.create(options);\n  await modal.present();\n\n  const { data } = await modal.onWillDismiss();\n  console.log('Modal dismissed with data:', data);\n\n  this.data = data;\n\n  if (data.pinOnMap) {\n      this.EnterMapPinStage();\n      this.mapPinDrag = true;\n      this.stopPolling = true;\n\n  }\n\n  if (data.home) {\n      console.log(\"Entering Booking Stage...\");\n      this.EnterBookingStage();\n      this.stopPolling = false;\n\n  }\n\n  if (data.searching) {\n      this.database.AddKnownPlace(data);\n      this.destinationAddress = data.full;\n      this.actualDestination = data.whole.full;\n\n      try {\n          const latLng = await this.geocode.getLatLng(data.whole.description).toPromise();\n          this.D_LatLng = {\n              lat: latLng.results[0].geometry.location.lat,\n              lng: latLng.results[0].geometry.location.lng,\n          };\n          console.log(\"Destination LatLng:\", this.D_LatLng);\n\n          await this.getDistanceAndDirections();\n      } catch (error) {\n          console.error(\"Error in geocoding:\", error);\n          this.overlay.showAlert('Error in geocoding:', error.message);\n      }\n  }\n}\n\n\nasync RequestRide(dat) {\n  if (!this.NoDrivers) {\n    this.destinationAddress = dat.place.full;\n    this.actualDestination = dat.place.whole.full;\n\n    try {\n      const latLng = await this.geocode.getLatLng(dat.place.whole.description).toPromise();\n      this.D_LatLng = {\n        lat: latLng.results[0].geometry.location.lat,\n        lng: latLng.results[0].geometry.location.lng,\n      };\n\n      await this.getDistanceAndDirections();\n    } catch (error) {\n      console.error(\"Error in geocoding:\", error);\n      this.overlay.showAlert('Check Your Network', error.message);\n    }\n  } else {\n    this.EnterNoDriverStage();\n    console.log(\"No drivers available\");\n  }\n}\n\nasync getDistanceAndDirections() {\n  console.log(\"getDistanceAndDirections called\");\n  this.duration = null;\n  await this.clearMarkers();\n  this.cleanupListeners();\n  this.stopPolling = true;\n\n  if (this.D_LatLng && this.D_LatLng.lat) {\n    console.log(\"D_LatLng is set:\", this.D_LatLng);\n\n    if (!this.NoDrivers) {\n      this.EnterConfirmStage();\n    } else {\n      this.EnterNoDriverStage();\n      console.log(\"No drivers available\");\n      return;\n    }\n\n    const origin1 = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\n    const origin2 = new google.maps.LatLng(this.D_LatLng.lat, this.D_LatLng.lng);\n\n    const request = {\n      origin: origin1,\n      destination: origin2,\n      travelMode: google.maps.TravelMode.DRIVING,\n    };\n\n    this.geocode.directions.route(request, async (response, status) => {\n      if (status === 'OK') {\n        this.direction = response;\n        this.distance = response.routes[0].legs[0].distance.value;\n        this.bounds = response.routes[0].bounds;\n        this.price = await this.database.getPriceEstimate(this.distance);\n        this.duration = response.routes[0].legs[0].duration.text;\n\n        await this.createAndAddMarkers(this.LatLng, this.D_LatLng);\n\n        // Call getDistanceAndDirectionsDriver after this part is successful\n        await this.getDistanceAndDirectionsDriver();\n      } else {\n        console.error('Direction ERROR:', response);\n        this.overlay.showAlert('Check Your Network', JSON.stringify(response));\n      }\n    });\n  } else {\n    this.overlay.showAlert('Drag Map', 'Drag the map and stop on your required destination');\n    console.error('D_LatLng or D_LatLng.lat is undefined');\n  }\n}\n\nasync getDistanceAndDirectionsDriver() {\n  console.log(\"getDistanceAndDirectionsDriver called\");\n\n  if (!this.NoDrivers) {\n    console.log(\"Driver LatLng:\", this.DriverLatLng);\n\n    if (this.DriverLatLng) {\n      const origin1 = new google.maps.LatLng(this.LatLng.lat, this.LatLng.lng);\n      const origin2 = new google.maps.LatLng(this.DriverLatLng.lat, this.DriverLatLng.lng);\n\n      const request = {\n        origin: origin1,\n        destination: origin2,\n        travelMode: google.maps.TravelMode.DRIVING,\n      };\n\n      this.geocode.directions.route(request, (response, status) => {\n        if (status === 'OK') {\n          this.D_duration = response.routes[0].legs[0].duration.text;\n          console.log(\"Driver duration:\", this.D_duration);\n        } else {\n          console.error('Direction ERROR:', response);\n          this.overlay.showAlert('Direction ERROR:', JSON.stringify(response));\n        }\n      });\n    } else {\n      console.log(\"DriverLatLng is undefined\");\n    }\n  } else {\n    console.log(\"No drivers available\");\n  }\n}\n\n\n\n\nasync resetLocation(): Promise<void> {\nconsole.log(this.LatLng);\nawait this.map.newMap.setCamera({\n    animate: true,\n    animationDuration: 500,\n    zoom: 15,\n    coordinate: this.LatLng\n});\nthis.showResetLocationButton = false;\n}\n\n\n\nprocessAddressResponse(addressResponse) {\n  console.log(\"processAddressResponse : \" + addressResponse);\n  if (addressResponse) {\n      console.log(addressResponse);\n      this.actualDestination = this.map.actualLocation;\n      const results = addressResponse.results;\n\n      if (results && results.length > 1 && results[1].geometry && results[1].geometry.location) {\n          this.D_LatLng = {\n              lat: results[1].geometry.location.lat,\n              lng: results[1].geometry.location.lng\n          };\n\n          const addressComponents = results[1].address_components;\n          if (addressComponents && addressComponents.length > 1) {\n              this.destinationAddress = `${addressComponents[0].long_name} ${addressComponents[1].long_name}`;\n              console.log(\"this is it \" + this.destinationAddress);\n          } else {\n              console.log('Address components are missing or incomplete.');\n              this.destinationAddress = 'Unknown address';\n          }\n      } else {\n          console.log('Results are missing or incomplete.');\n          this.D_LatLng = { lat: null, lng: null };\n          this.destinationAddress = 'Unknown location';\n      }\n  } else {\n      console.log('Failed to fetch address.');\n      this.D_LatLng = { lat: null, lng: null };\n      this.destinationAddress = 'Failed to fetch address';\n  }\n}\n\n\nasync UpdateCarMarker(elements: Drivers[]) {\n  console.log('Elements to update car markers:', elements);\n\n  const bounds = new google.maps.LatLngBounds();\n\n  // Create a map of driver IDs to driver elements for quick lookup\n  const driverMap = new Map(elements.map(element => [element.Driver_id, element]));\n\n  // Track markers to keep and update\n  const updatedMarkers: { id: string, marker: any }[] = [];\n\n  // Remove markers that are not needed and update positions\n  for (const { id, marker } of this._carmarkers) {\n    const driver = driverMap.get(id);\n    if (!driver || !driver.onlineState) {\n      console.log(`Removing marker for driver ID: ${id}`);\n      await this.map.newMap.removeMarker(marker); // Remove the marker from the map\n    } else if (driver.Driver_lat !== undefined && driver.Driver_lng !== undefined) {\n      const latlng = { lat: driver.Driver_lat, lng: driver.Driver_lng };\n      // Remove old marker and add a new one with updated position\n      await this.map.newMap.removeMarker(marker);\n      const newMarker = await this.map.newMap.addMarker({\n        coordinate: latlng,\n        iconUrl: 'https://i.ibb.co/KDy365b/hatchback.png',\n        title: 'Driver',\n        iconSize: { width: 30, height: 30 }\n      });\n      updatedMarkers.push({ id, marker: newMarker });\n      bounds.extend(latlng);\n      console.log(`Updated marker for driver ID: ${id}`);\n    } else {\n      console.error('Invalid driver coordinates:', driver);\n    }\n  }\n\n  // Add new markers for drivers that are online and not in the existing markers\n  for (const element of elements) {\n    if (element.onlineState) {\n      const existingMarkerIndex = updatedMarkers.findIndex(({ id }) => id === element.Driver_id);\n      if (existingMarkerIndex === -1 && element.Driver_lat !== undefined && element.Driver_lng !== undefined) {\n        const latlng = { lat: element.Driver_lat, lng: element.Driver_lng };\n        console.log(`Adding new marker for driver ID: ${element.Driver_id} at`, latlng);\n        try {\n          const marker = await this.map.newMap.addMarker({\n            coordinate: latlng,\n            iconUrl: 'https://i.ibb.co/KDy365b/hatchback.png',\n            title: 'Driver',\n            iconSize: { width: 30, height: 30 }\n          });\n\n          if (marker) {\n            updatedMarkers.push({ id: element.Driver_id, marker });\n            bounds.extend(latlng);\n          }\n        } catch (error) {\n          console.error('Error adding marker:', error);\n        }\n      }\n    }\n  }\n\n  // Update the _carmarkers array with the updated markers\n  this._carmarkers = updatedMarkers;\n\n  // Center the map around the car markers if there are any markers\n  if (updatedMarkers.length > 0) {\n    const mapDim = {\n      height: this.mapRef.nativeElement.offsetHeight,\n      width: this.mapRef.nativeElement.offsetWidth\n    };\n\n    const minZoom = 5; // Define your minimum zoom level\n    const maxZoom = 18; // Define your maximum zoom level\n    \n    let zoomLevel = await this.map.getBoundsZoomLevel(bounds, mapDim);\n    \n    // Constrain the zoom level within the min and max range\n    zoomLevel = Math.max(minZoom, Math.min(maxZoom, zoomLevel));\n    \n    console.log('Setting camera with zoom level:', zoomLevel);\n    \n    await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: zoomLevel,\n      coordinate: bounds.getCenter()\n    });\n\n    this.map.newMap.fitBounds(bounds);\n  } else {\n    console.log('No markers to display on the map.');\n  }\n}\n\n\n\nasync GoHome() {\n  await this.map.newMap.enableCurrentLocation(true);\n  this.current_Request_Number = 0;\n  this.stopPolling = false;\n  this.price = null;\n  this.EnterBookingStage();\n  await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n  });\n}\n\nasync GotoSupport() {\n  await this.nav.navigateForward('support');\n}\n\n\nasync ReturnHome() {\n  await this.ResetState();\n  this.EnterBookingStage();\n  this.stopPolling = false;\n  await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n  });\n}\n\nasync CancelRide() {\n  this.overlay.showLoader('Please Wait..');\n  await this.clearPrevMarkers();\n  // Clear any existing polylines\n   await this.clearPolyline(this.newPoly);\n\n  this.unsubscribe();\n  this.numCalls.unsubscribe();\n  this.riderCleared = true;\n  await this.database.cancelRide(this.requestID);\n  await this.map.newMap.enableCurrentLocation(true);\n  this.current_Request_Number = 0;\n  this.price = null;\n  this.EnterBookingStage();\n  this.overlay.hideLoader();\n  await this.map.newMap.setCamera({\n      animate: true,\n      animationDuration: 500,\n      zoom: 15,\n      coordinate: this.LatLng\n  });\n}\n\nasync ClearRide() {\n  this.EnterBookingStage();\n this.clearPrevMarkers();\n\n  // Ensure the polyline is cleared\n  console.log(\"should clear\");\n  await this.clearPolyline(this.newPoly);\n  this.newPoly = null; // Reset polyline reference\n\n  await this.map.newMap.enableCurrentLocation(true);\n  this.current_Request_Number = 0;\n  this.price = null;\n  await this.map.newMap.setCamera({\n    animate: true,\n    animationDuration: 500,\n    zoom: 15,\n    coordinate: this.LatLng,\n    bearing: 0\n  });\n}\n\nasync CallDriver() {\n  // Implement CallDriver logic\n}\n\n\n// Interval in milliseconds for updating the route\nUPDATE_INTERVAL = 10000; // Update every 10 seconds\n\nasync handleDriverToRider(driverLatLng, riderLatLng) {\n  const markerSize = { width: 30, height: 30 };\n  const iconAnchor = { x: 10, y: 0 }; // Center bottom of the icon\n\n  try {\n    // Add driver marker at the starting position\n    const driverMarker = await this.map.newMap.addMarker({\n      coordinate: driverLatLng,\n      iconUrl: 'assets/icon/car.png',\n      title: 'Driver',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 2, y: 0 },\n    });\n    this.driver_marker = driverMarker;\n\n    // Add rider marker at the destination position\n    const riderMarker = await this.map.newMap.addMarker({\n      coordinate: riderLatLng,\n      iconUrl: this.database.user.photoURL, // Change this to your rider icon URL\n      title: 'Rider',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 2, y: 0 },\n    });\n    this.rider_marker = riderMarker;\n\n    // Function to update route, duration, and distance\n    const updateRoute = async () => {\n      const request = {\n        origin: driverLatLng,\n        destination: riderLatLng,\n        travelMode: google.maps.TravelMode.DRIVING,\n      };\n\n      this.geocode.directions.route(request, async (response, status) => {\n        if (status === 'OK') {\n          const path = response.routes[0].overview_path.map(latlng => ({\n            lat: latlng.lat(),\n            lng: latlng.lng()\n          }));\n          this.duration = response.routes[0].legs[0].duration.text;\n          this.distance = response.routes[0].legs[0].distance.text;\n\n          console.log(`Duration: ${this.duration}, Distance: ${this.distance}`);\n\n          const locs = [\n            { geoCode: { latitude: driverLatLng.lat, longitude: driverLatLng.lng } },\n            { geoCode: { latitude: riderLatLng.lat, longitude: riderLatLng.lng } },\n          ];\n\n          const center = this.map.calculateCenter(locs);\n\n\n          const bounds = new google.maps.LatLngBounds();\n          bounds.extend(new google.maps.LatLng(driverLatLng.lat, driverLatLng.lng));\n          bounds.extend(new google.maps.LatLng(riderLatLng.lat, riderLatLng.lng));\n  \n        \n          const availableHeight = this.mapRef.nativeElement.offsetHeight;\n  \n          // Prepare map dimensions for calculating zoom level\n          const mapDim = {\n            height: availableHeight,\n            width: this.mapRef.nativeElement.offsetWidth,\n          };\n  \n          // Calculate zoom level\n          const zoomLevel = this.map.getBoundsZoomLevel(bounds, mapDim);\n  \n          // Manually set zoom level if needed\n          const adjustedZoomLevel = zoomLevel - 1; // Adjust as necessary\n\n          await this.map.setCameraToLocation({ lat: center.latitude, lng: center.longitude }, adjustedZoomLevel, this.map.calculateBearing(driverLatLng, riderLatLng));\n  \n\n          // Update polyline for the route\n           // Update polyline for the route\n           if (this.newPoly) {\n            await this.clearPolyline(this.newPoly);\n           }\n           await this.addPolyline(driverLatLng, riderLatLng);\n          // Animate the driver marker along the path to the rider\n          await this.animateMarker(this.driver_marker, path, 'assets/icon/car.png');\n        } else {\n          console.error('Direction ERROR:', response);\n          this.overlay.showAlert('Direction ERROR', JSON.stringify(response));\n        }\n      });\n    };\n\n    // Start updating the route periodically\n    const routeUpdate$ = interval(this.UPDATE_INTERVAL).pipe(\n      switchMap(() => updateRoute())\n    );\n\n    // Subscribe to the interval observable to start updating\n    this.routeUpdateSubscription = routeUpdate$.subscribe();\n\n    // Cleanup subscription when the component or context is destroyed\n    // Call routeUpdateSubscription.unsubscribe() when needed\n\n  } catch (error) {\n    console.error('Error handling driver to rider:', error);\n  }\n}\n\nasync handleRiderToDestination(driverLatLng, destinationLatLng) {\n  const markerSize = { width: 30, height: 30 };\n  const iconAnchor = { x: 10, y: 0 }; // Center bottom of the icon\n\n  try {\n    // Update driver marker to driver's current position\n    const driverMarker = await this.map.newMap.addMarker({\n      coordinate: driverLatLng,\n      iconUrl: 'assets/icon/car.png',\n      title: 'Driver',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 0, y: 0 },\n    });\n    this.driver_marker = driverMarker;\n\n    // Add destination marker\n    const destinationMarker = await this.map.newMap.addMarker({\n      coordinate: destinationLatLng,\n      iconUrl: 'assets/icon/flag.png',\n      title: 'Destination',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 0, y: 0 },\n    });\n    this.destinationMarker = destinationMarker;\n\n    // Function to update route, duration, and distance\n    const updateRoute = async () => {\n      const request = {\n        origin: driverLatLng,\n        destination: destinationLatLng,\n        travelMode: google.maps.TravelMode.DRIVING,\n      };\n\n      this.geocode.directions.route(request, async (response, status) => {\n        if (status === 'OK') {\n          const path = response.routes[0].overview_path.map(latlng => ({\n            lat: latlng.lat(),\n            lng: latlng.lng()\n          }));\n          this.duration = response.routes[0].legs[0].duration.text;\n          this.distance = response.routes[0].legs[0].distance.text;\n\n          console.log(`Duration: ${this.duration}, Distance: ${this.distance}`);\n\n          const locs = [\n            { geoCode: { latitude: driverLatLng.lat, longitude: driverLatLng.lng } },\n            { geoCode: { latitude: destinationLatLng.lat, longitude: destinationLatLng.lng } },\n          ];\n\n          const center = this.map.calculateCenter(locs);\n\n\n          const bounds = new google.maps.LatLngBounds();\n          bounds.extend(new google.maps.LatLng(driverLatLng.lat, driverLatLng.lng));\n          bounds.extend(new google.maps.LatLng(destinationLatLng.lat, destinationLatLng.lng));\n  \n        \n          const availableHeight = this.mapRef.nativeElement.offsetHeight;\n  \n          // Prepare map dimensions for calculating zoom level\n          const mapDim = {\n            height: availableHeight,\n            width: this.mapRef.nativeElement.offsetWidth,\n          };\n  \n          // Calculate zoom level\n          const zoomLevel = this.map.getBoundsZoomLevel(bounds, mapDim);\n  \n          // Manually set zoom level if needed\n          const adjustedZoomLevel = zoomLevel - 1; // Adjust as necessary\n  \n          // Set the camera to focus on the center point with appropriate zoom leve\n          await this.map.setCameraToLocation({ lat: center.latitude, lng: center.longitude }, adjustedZoomLevel, this.map.calculateBearing(driverLatLng, destinationLatLng));\n  \n\n\n          // Update polyline for the route\n          if (this.newPoly) {\n           await this.clearPolyline(this.newPoly);\n          }\n          await this.addPolyline(driverLatLng, destinationLatLng);\n          \n          // Animate the driver marker along the path to the destination\n          await this.animateMarker(this.driver_marker, path, 'assets/icon/car.png');\n        } else {\n          console.error('Direction ERROR:', response);\n          this.overlay.showAlert('Direction ERROR', JSON.stringify(response));\n        }\n      });\n    };\n\n    // Start updating the route periodically\n    const routeUpdate$ = interval(this.UPDATE_INTERVAL).pipe(\n      switchMap(() => updateRoute())\n    );\n\n    // Subscribe to the interval observable to start updating\n    this.routeUpdateSubscription = routeUpdate$.subscribe();\n\n    // Cleanup subscription when the component or context is destroyed\n    // Call routeUpdateSubscription.unsubscribe() when needed\n\n  } catch (error) {\n    console.error('Error handling rider to destination:', error);\n  }\n}\n\nasync addPolyline(loc: { lat: number, lng: number }, des: { lat: number, lng: number }) {\n  try {\n    const polylineColor = \"#007bff\";\n    const polylines: Polyline[] = [\n      {\n        path: [\n          { lat: loc.lat, lng: loc.lng },\n          { lat: des.lat, lng: des.lng }\n        ],\n        strokeColor: polylineColor,\n        strokeWeight: 8,\n        geodesic: true\n      }\n    ];\n\n    this.newPoly = await this.map.newMap.addPolylines(polylines);\n    return polylines[0].path as (LatLng | LatLngLiteral)[]; // Ensure the return type is always an array\n  } catch (e) {\n    console.log('Error Adding Polyline: ', e);\n  }\n}\n\nasync createAndAddMarkers(loc, des) {\n  const markerSize = { width: 30, height: 30 };\n  const iconAnchor = { x: 10, y: 0 }; // Center bottom of the icon\n\n  try {\n    this.map.newMap.disableTouch();\n\n    // Add start marker\n    this.marker1 = await this.map.newMap.addMarker({\n      coordinate: loc,\n      iconUrl: 'assets/icon/point.png',\n      title: 'Start',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 1, y: 0 },\n    });\n\n    // Add destination marker\n    this.marker2 = await this.map.newMap.addMarker({\n      coordinate: des,\n      iconUrl: 'assets/icon/flag.png',\n      title: 'Destination',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 1, y: 0 },\n    });\n\n    // Calculate the center point between the start and destination\n    const locs = [\n      { geoCode: { latitude: loc.lat, longitude: loc.lng } },\n      { geoCode: { latitude: des.lat, longitude: des.lng } },\n    ];\n\n    const center = this.map.calculateCenter(locs);\n\n    // Calculate the bounds\n    const bounds = new google.maps.LatLngBounds();\n    bounds.extend(new google.maps.LatLng(loc.lat, loc.lng));\n    bounds.extend(new google.maps.LatLng(des.lat, des.lng));\n\n    // Set map height before calculating zoom level\n    this.setMapHeight();\n    const availableHeight = this.mapRef.nativeElement.offsetHeight;\n\n    // Prepare map dimensions for calculating zoom level\n    const mapDim = {\n      height: availableHeight,\n      width: this.mapRef.nativeElement.offsetWidth,\n    };\n\n    // Calculate zoom level\n    const zoomLevel = this.map.getBoundsZoomLevel(bounds, mapDim);\n\n    // Manually set zoom level if needed\n    const adjustedZoomLevel = zoomLevel - 1; // Adjust as necessary\n\n    // Set the camera to focus on the center point with appropriate zoom level\n    await this.map.setCameraToLocation({ lat: center.latitude, lng: center.longitude }, adjustedZoomLevel, this.map.calculateBearing(loc, des));\n\n    // Add polyline for the route\n    const polylineColor = \"#007bff\";\n    const polylines: Polyline[] = [\n      {\n        path: [\n          { lat: loc.lat, lng: loc.lng },\n          { lat: des.lat, lng: des.lng }\n        ],\n        strokeColor: polylineColor,\n        strokeWeight: 8,\n        geodesic: true\n      }\n    ];\n\n    // Add polyline to the map\n    this.newPoly = await this.map.newMap.addPolylines(polylines);\n  } catch (error) {\n    console.error('Error creating and adding markers:', error);\n  }\n}\n\n\n\nasync animateMarker(marker, path, iconUrl) {\n  const markerSize = { width: 50, height: 50 };\n  const iconAnchor = { x: 25, y: 50 }; // Center bottom of the icon\n\n  for (let i = 0; i < path.length; i++) {\n    await this.map.newMap.removeMarker(marker);\n    const coordinate = path[i] instanceof google.maps.LatLng ? \n                       { lat: path[i].lat(), lng: path[i].lng() } : \n                       { lat: path[i].lat, lng: path[i].lng };\n    marker = await this.map.newMap.addMarker({\n      coordinate: coordinate,\n      iconUrl: iconUrl,\n      title: 'Moving Marker',\n      iconSize: markerSize,\n      iconAnchor: iconAnchor,\n      iconOrigin: { x: 0, y: 0 },\n    });\n    await new Promise(resolve => setTimeout(resolve, 100)); // Adjust the interval as needed\n  }\n\n  // Store the last position of the animated marker\n  this.animatedMarker = marker;\n}\n\n\n\nasync ShowDriverInfoPop() {\n  const alert = await this.alert.create({\n    header: 'Driver Information',\n    message: `\n      <div style=\"text-align: center;\">\n        <h2 style=\"font-size: 1.2em; margin-bottom: 0.5em;\">Car Name: ${this.carname}</h2>\n        <div style=\"margin: 10px 0;\">\n          <img src=\"${this.driverImage}\" alt=\"Driver Image\" style=\"width: 60px; height: 60px; border-radius: 50%;\">\n        </div>\n        <p><strong>Duration Apart:</strong> ${this.driver_duration_apart} minutes</p>\n        <p><strong>Driver ID:</strong> ${this.driver_ID}</p>\n        <p><strong>Number of Seats:</strong> ${this.driver_number_of_seats}</p>\n        <p><strong>Driver Location:</strong> (${this.DriverLatLng.lat}, ${this.DriverLatLng.lng})</p>\n      </div>\n    `,\n    buttons: ['OK']\n  });\n\n  await alert.present();\n}\n\n\n// State management methods\nEnterBookingStage() {\n  this.setStage('bookingStage');\n}\n\nEnterMapPinStage() {\n  this.setStage('mapPinStage');\n}\n\nEnterConfirmStage() {\n  this.setStage('confirmStage');\n}\n\nEnterSearchingStage() {\n  this.setStage('searchingStage');\n}\n\nEnterNoDriverStage() {\n  this.setStage('noDriverStage');\n}\n\nEnterTrackingStage() {\n  this.setStage('trackingStage');\n}\n\nEnterDrivingToDestinationStage() {\n  this.setStage('drivingToDestinationStage');\n}\n\nprivate setStage(activeStage: string) {\n  const stages = {\n    bookingStage: false,\n    confirmStage: false,\n    trackingStage: false,\n    searchingStage: false,\n    noDriverStage: false,\n    mapPinStage: false,\n    drivingToDestinationStage: false,\n  };\n  \n  stages[activeStage] = true;\n  this.updateStage(stages);\n}\n\nprivate updateStage(stages: { [key: string]: boolean }) {\n  this.bookingStage = stages.bookingStage;\n  this.confirmStage = stages.confirmStage;\n  this.trackingStage = stages.trackingStage;\n  this.searchingStage = stages.searchingStage;\n  this.noDriverStage = stages.noDriverStage;\n  this.mapPinStage = stages.mapPinStage;\n  this.drivingToDestinationStage = stages.drivingToDestinationStage;\n}\n\n\n}","\n\n\n\n<ion-header class=\"ion-no-border\" [translucent]=\"true\">\n  <div #topBar>\n  <!--destination bar-->\n  <ion-toolbar *ngIf=\"confirmStage\">\n    <ion-buttons slot=\"start\">\n      <ion-button shape=\"round\" (click)=\"goBackToAutoComplete()\">\n        <ion-icon slot=\"icon-only\" name=\"arrow-back\" color=\"tertiary\"></ion-icon> \n      </ion-button>\n    </ion-buttons>\n    <ion-title> Cancel </ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-item fill=\"outline\" class=\"duration\" color=\"primary\" lines=\"none\">\n        <ion-icon slot=\"icon-only\" name=\"flag\" color=\"primary\"></ion-icon>\n        <ion-label *ngIf=\"duration\" color=\"primary\"><h1>{{duration}}</h1></ion-label>\n      </ion-item>\n    </ion-buttons>\n  </ion-toolbar>\n\n  \n  <!-- <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\"> -->\n        <ion-item lines=\"none\" color='light' class=\"main-buttons ion-no-padding\" class='top_bar'  (click)=\"goBackToAutoComplete()\" *ngIf=\"confirmStage\">\n            <ion-icon slot=\"start\" color='primary' name=\"pencil\"></ion-icon>\n            <ion-label color='primary' >{{destinationAddress}}</ion-label>\n        </ion-item>\n      <!-- </ion-col>\n    </ion-row>\n  </ion-grid> -->\n  \n\n  <!--menu button-->\n  <ion-fab *ngIf=\"bookingStage\" vertical=\"top\" horizontal=\"start\">\n    <ion-fab-button color=\"light\">\n      <ion-menu-button color=\"primary\"></ion-menu-button>\n    </ion-fab-button>\n  </ion-fab>\n\n  <!--sos button-->\n  <ion-fab  *ngIf=\"bookingStage\" vertical=\"top\" horizontal=\"end\" (click)=\"GotoSupport()\">\n    <ion-fab-button color=\"light\">\n      <ion-icon color=\"primary\" name=\"chatbubble-ellipses\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n\n   <!--back button if map Pin-->\n   <ion-fab  *ngIf=\"mapPinStage\" vertical=\"top\" (click)=\"goBackToAutoComplete()\" horizontal=\"start\">\n    <ion-fab-button color=\"light\">\n      <ion-icon name=\"arrow-back\" color=\"primary\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n\n  <ion-item *ngIf=\"searchingStage\" lines=\"none\" color='primary' class=\"main-buttons ion-no-padding\" class='top_bar'>\n    <ion-icon slot=\"start\" color='light' name=\"flag\"></ion-icon>\n    <ion-label color='light' ><h1>Driver Arrives In {{duration}}</h1></ion-label>\n    <ion-button  fill=\"outline\" shape=\"round\" color=\"danger\"  class='main-button' size=\"large\" type=\"submit\" expand=\"block\" (click)=\"presentCancelRideActionSheet()\">\n      <ion-label></ion-label>\n      <ion-icon slot=\"start\" slot=\"icon-only\" name=\"close-sharp\" color=\"danger\"></ion-icon>\n    </ion-button>\n</ion-item>\n\n\n\n  <!--Search Bar-->\n \n</div>\n </ion-header>\n\n\n<!--Capacitor Google Map-->\n\n<ion-content [fullscreen]=\"true\" scroll-y=\"false\">\n  \n  <capacitor-google-maps #map>\n   \n  </capacitor-google-maps>\n\n\n  <ion-fab *ngIf=\"bookingStage && showResetLocationButton\" vertical=\"bottom\" horizontal=\"end\" >\n    <ion-fab-button color=\"light\" (click)=\"resetLocation()\">\n      <ion-icon name=\"locate\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab>\n\n  \n</ion-content>\n\n\n\n<!--JAVAScript Google mAp-->\n  <!-- <div #mapElement class=\"map\"></div> -->\n\n\n<ion-fab class=\"centerPin\" *ngIf=\"mapPinStage\" vertical=\"center\" horizontal=\"center\">\n    <ion-avatar>\n      <ion-img src=\"../../assets/icon/pin.png\"></ion-img>\n    </ion-avatar>\n</ion-fab>\n\n  <ion-footer  [translucent]=\"true\" class=\"ion-no-border\">\n    <div #bottomBar>\n    <ion-row>\n\n\n      <!--where to bar and button-->\n      <ion-list class=\"bottomItems shadow-top\" *ngIf=\"bookingStage\" lines=\"full\">\n  \n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom \">\n          <ion-button \n          [disabled]=\"!locationAddress\" \n          shape=\"round\" \n          class=\"main-button\" \n          size=\"large\" \n          type=\"submit\" \n          (click)=\"showAutocompleteModal()\" \n          expand=\"block\">\n          <ion-icon slot=\"start\" name=\"search\" color=\"primary\"></ion-icon>\n          <ion-label>{{ locationAddress ? 'Where To?' : 'Waiting for address...' }}</ion-label>\n        </ion-button>\n        \n\n        <ion-item *ngFor=\"let place of places\" class=\"bottomItems ion-margin\" (click)=\"RequestRide(place)\">\n          <ion-icon name=\"pin\" color=\"primary\" slot=\"start\"></ion-icon>\n          <ion-label>\n            <h1>{{ place.place.place }}</h1>  <!-- Accessing the 'place' field inside 'place' object -->\n            <p>{{ place.place.city }}</p>\n          </ion-label>\n        </ion-item>\n        \n        \n        \n        </ion-item-group>\n\n      </ion-list>\n\n      <!--Map Pin Choose Bar-->\n      <ion-list class='bottomItems shadow-top' [hidden]=\"!mapPinStage\" lines=\"full\">\n\n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n          <ion-button shape=\"round\" size=\"large\" type=\"submit\" (click)=\"getDistanceAndDirections()\" expand=\"block\">\n            <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\n            <ion-label>{{destinationAddress}}</ion-label>\n          </ion-button>\n        </ion-item-group>\n\n      </ion-list>\n\n      <!--No driver Found Bar-->\n      \n      <ion-list class='bottomItems shadow-top' *ngIf=\"noDriverStage\" lines=\"none\">\n        <ion-list-header>\n          <ion-item style=\"margin:0 auto;\">\n              <img src=\"../../assets/imgs/No connection-pana.svg\">\n          </ion-item>\n            \n         </ion-list-header>\n       <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n        \n               <ion-button shape=\"round\"  class='main-button' size=\"large\" type=\"submit\" color=\"primary\" (click)=\"ReturnHome()\" expand=\"block\">\n                 <ion-icon slot=\"start\" name=\"arrow-back\"></ion-icon>\n                 <ion-label> No Drivers Here </ion-label>\n               </ion-button>\n            \n       </ion-item-group>\n\n     </ion-list>\n\n\n\n      <!--Car type, payment, confirmation and Selection Bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"confirmStage\" lines=\"none\">\n\n        <ion-list-header  color=\"light\" *ngIf=\"price\" class=\"payment\">\n\n                <ion-item (click)=\"ShowDriverInfoPop()\">\n                  <ion-avatar slot=\"start\">\n                    <ion-img src=\"../../assets/icon/hatchback.png\"></ion-img>\n                  </ion-avatar>\n                  <ion-label>\n                    <h1>{{carname}} <ion-icon slot=\"icon-only\" color='primary' name=\"information-circle\" ></ion-icon></h1>\n                    <p> <ion-icon slot=\"icon-only\" color='primary' name=\"time\" ></ion-icon> {{D_duration}} <ion-icon slot=\"icon-only\" color='primary' name=\"person\"></ion-icon> {{driver_number_of_seats}} seats</p>\n                  </ion-label>\n                </ion-item>\n                \n\n                <ion-item class=\"price\">\n                  <ion-label>\n                    <h1>${{price}}</h1>\n                    <p><del>${{price*2}}</del></p>\n                  </ion-label>\n                </ion-item>\n\n        </ion-list-header>\n\n\n        <ion-list-header color=\"light\" *ngIf=\"!price\" class=\"payment\">\n\n          <ion-item class=\"price\"> \n            <ion-avatar slot=\"start\">\n              <ion-skeleton-text [animated]=\"true\"></ion-skeleton-text>\n            </ion-avatar>\n            <ion-label>\n              <h1><ion-skeleton-text [animated]=\"true\" style=\"width: 130px\"></ion-skeleton-text></h1>\n              <p><ion-skeleton-text [animated]=\"true\" style=\"width: 130px\"></ion-skeleton-text><ion-skeleton-text [animated]=\"true\" style=\"width: 100px\"></ion-skeleton-text></p>\n            </ion-label>\n          </ion-item>\n          \n\n          <ion-item class=\"price\">\n            <ion-label>\n              <h1><ion-skeleton-text [animated]=\"true\" style=\"width: 80px\"></ion-skeleton-text></h1>\n              <p><del><ion-skeleton-text [animated]=\"true\" style=\"width: 80px\"></ion-skeleton-text></del></p>\n            </ion-label>\n          </ion-item>\n\n     </ion-list-header>\n\n  \n    <div class=\"card\">\n      <ion-item>\n        <ion-label>Change Payment</ion-label>\n        <ion-select [value]=\"selectedCard\" (ionChange)=\"chooseCard($event)\">\n          <ion-select-option value=\"cash\">Cash</ion-select-option>\n          <ion-select-option *ngFor=\"let card of savedPaymentMethods\" [value]=\"card.cardId\">\n            Card {{ card.last4 }}\n          </ion-select-option>\n          <ion-button shape=\"round\" color=\"primary\" size=\"large\" type=\"submit\" (click)=\"StartRide()\" expand=\"block\">\n            <ion-icon slot=\"start\" name=\"checkmark-sharp\"></ion-icon>\n            <ion-label>Change Payment</ion-label>\n          </ion-button>\n        </ion-select>\n      </ion-item>\n\n\n        <!--Base Select Button-->\n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n          <ion-button shape=\"round\" color=\"primary\" size=\"large\" type=\"submit\" (click)=\"StartRide()\" expand=\"block\">\n            <ion-icon *ngIf='price' slot=\"start\" name=\"checkmark-sharp\"></ion-icon>\n            <ion-progress-bar color=\"light\" *ngIf='!price' type=\"indeterminate\"></ion-progress-bar>\n            <ion-label *ngIf='price'>Book Ride</ion-label>\n          </ion-button>\n        </ion-item-group>\n\n      </div>\n      </ion-list>\n\n\n<!-- Connecting to driver bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"searchingStage\" lines=\"none\">\n         <ion-list-header>\n          <ion-item>\n            <ion-avatar slot=\"start\">\n              <ion-img [src]=\"currentDriver.Driver_imgUrl\"></ion-img>\n            </ion-avatar>\n            <ion-label>\n\n              <h1>{{currentDriver.Driver_name}}</h1>\n              <p>Arrives In {{duration}}</p>\n\n            </ion-label>\n          </ion-item>\n            \n         </ion-list-header>\n        <ion-item-group class=\"ion-margin-horizontal ion-margin-bottom\">\n         \n                <ion-button shape=\"round\"  class='main-button' size=\"large\" type=\"submit\" expand=\"block\">\n                  <!-- <ion-icon slot=\"start\" name=\"close-sharp\" color=\"danger\"></ion-icon> -->\n                  <ion-progress-bar type=\"indeterminate\"></ion-progress-bar>\n                </ion-button>\n                 \n               \n             \n        </ion-item-group>\n       \n      </ion-list>\n\n\n\n       <!--Driver found now tracking to user bar-->\n       <ion-list class='bottomItems shadow-top' *ngIf=\"trackingStage\" lines=\"none\">\n\n        <ion-list-header class=\"ion-margin-bottom\" >\n            <ion-label>\n              <h1 class=\"ion-text-center\">Driver Arrives in {{duration}}</h1>\n            </ion-label>\n        </ion-list-header>\n\n     \n\n\n\n        <div class=\"card\">\n\n          <ion-item>\n\n            <ion-item>\n              <ion-label>\n                <p>{{driverInfo.Driver_car}}.{{driverInfo.Driver_cartype}}</p>\n                <h1>{{driverInfo.Driver_plate}}</h1>\n              </ion-label>\n            </ion-item>\n                \n                  <ion-item class=\"price\">\n                    <ion-avatar slot=\"start\">\n                      <ion-img [src]=\"driverInfo.Driver_imgUrl\"></ion-img>\n                    </ion-avatar>\n                    <ion-label>\n                      <p><ion-icon slot=\"icon-only\" color=\"warning\" name=\"star\"></ion-icon> {{driverInfo.Driver_rating}} </p>\n                    </ion-label>\n                  </ion-item>\n                  \n          </ion-item>\n\n\n          <ion-item>\n            <ion-item>\n              \n              <ion-label>\n               <h1>Your Driver is {{driverInfo.Driver_name}}</h1> \n               <p>1,832 rides</p>\n              </ion-label>\n\n            </ion-item>\n          </ion-item>\n\n\n          <!-- <ion-button shape=\"round\"  class='main-button' size=\"large\" type=\"submit\" (click)=\"CloseSearchingStage()\" expand=\"full\">\n            <ion-icon slot=\"end\" color='primary' name=\"arrow-forward\"></ion-icon>\n            <ion-label> Pussy Money Weed </ion-label>\n          </ion-button> -->\n\n        <ion-item>\n\n          <ion-item *ngIf=\"cash\">\n            <ion-label>\n             <h1><ion-icon color='primary'  slot=\"icon-only\" name=\"cash\"></ion-icon> Cash</h1> \n            </ion-label>\n          </ion-item>\n\n          <ion-item *ngIf=\"!cash\">\n            <ion-label>\n              <h1> <ion-icon color='primary' slot=\"icon-only\" name=\"card\"></ion-icon> Card</h1>\n            </ion-label>\n          </ion-item>\n          \n\n          <ion-item class=\"price\">\n            <ion-label >\n              <h1>${{price}}</h1>\n            </ion-label>\n          </ion-item>\n              \n               \n        </ion-item>\n\n\n        <ion-accordion-group>\n        <ion-accordion value=\"first\">\n          <ion-item slot=\"header\">\n            <ion-label><h1>More</h1></ion-label>\n          </ion-item>\n          <div slot=\"content\">\n            \n            <ion-button shape=\"round\"  class='main-button' size=\"large\" expand=\"block\" (click)=\"CallDriver()\">\n              <ion-icon color='primary' slot=\"start\" name=\"person\"></ion-icon>\n              <ion-label>contact</ion-label>\n            </ion-button>\n           \n             \n                <ion-button shape=\"round\"  class='main-button' size=\"large\" expand=\"block\" (click)=\"EnterChat()\">\n                  <ion-icon color='primary' slot=\"start\" name=\"chatbubbles\"></ion-icon>\n                  <ion-label>Chat</ion-label>\n                </ion-button>\n                \n              \n                    <ion-button shape=\"round\"  class='main-button' size=\"large\" expand=\"block\"  (click)=\"presentCancelRideActionSheet()\"> \n                      <ion-icon color='primary' slot=\"start\" name=\"close\"></ion-icon>\n                      <ion-label>Cancel ride</ion-label>\n                    </ion-button>\n                  \n                  \n          </div>\n        </ion-accordion>\n        </ion-accordion-group>\n\n     </div>\n\n\n    \n      </ion-list>\n\n\n\n    \n   <!--Rider Picked Up now tracking to destination bar-->\n      <ion-list class='bottomItems shadow-top' *ngIf=\"drivingToDestinationStage\" lines=\"none\">\n\n        <ion-list-header class=\" ion-margin-bottom\" >\n            <ion-label>\n              <h1 class=\"ion-text-center\">Arrival in {{duration}}</h1>\n            </ion-label>\n        </ion-list-header>\n\n        <div class=\"card\">\n\n          <ion-item>\n            <ion-item>\n              <ion-label>\n                <p>{{driverInfo.Driver_car}}.{{driverInfo.Driver_cartype}}</p>\n                <h1>{{driverInfo.Driver_plate}}</h1>\n              </ion-label>\n            </ion-item>\n                \n                  <ion-item class=\"price\">\n                    <ion-avatar slot=\"start\">\n                      <ion-img [src]=\"driverInfo.Driver_imgUrl\"></ion-img>\n                    </ion-avatar>\n                    <ion-label>\n                      <p><ion-icon slot=\"icon-only\" color=\"secondary\" name=\"star\"></ion-icon> 5 </p>\n                    </ion-label>\n                  </ion-item>\n                  \n          </ion-item>\n\n\n          <ion-item>\n            <ion-item>\n            \n              <ion-label>\n               <h1>Your Driver is {{driverInfo.Driver_name}}</h1> \n               <p>1,832 rides</p>\n              </ion-label>\n            </ion-item>\n  \n          </ion-item>\n\n\n        <ion-item>\n\n          <ion-item *ngIf=\"cash\">\n          \n            <ion-label>\n             <h1><ion-icon color='primary'  slot=\"icon-only\" name=\"cash\"></ion-icon> Cash</h1> \n            </ion-label>\n          </ion-item>\n\n          <ion-item *ngIf=\"!cash\">\n           \n            <ion-label>\n              <h1> <ion-icon color='primary' slot=\"icon-only\" name=\"card\"></ion-icon> Card</h1>\n            </ion-label>\n          </ion-item>\n          \n\n          <ion-item class=\"price\">\n            <ion-label>\n              <h1>${{price}}</h1>\n            </ion-label>\n          </ion-item>\n              \n               \n        </ion-item>\n\n     </div>\n\n\n    \n      </ion-list>\n      \n\n\n    </ion-row>\n    </div>\n  </ion-footer>\n","import { Injectable } from '@angular/core';\nimport { Client } from '@googlemaps/google-maps-services-js';\nimport { environment } from 'src/environments/environment';\nimport { OverlayService } from './overlay.service';\nimport { Observable, of } from 'rxjs';\nimport { HttpParams, HttpClient } from '@angular/common/http';\nimport { catchError, map } from 'rxjs/operators';\n\ndeclare let google;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeocodeService {\n  service = new google.maps.DistanceMatrixService();\n  directions = new google.maps.DirectionsService();\n  private readonly apiUrl = 'https://maps.googleapis.com/maps/api';\n\n  constructor(private client: Client, private overlay: OverlayService, private http: HttpClient) { }\n\n  getAddress(lat: number, lng: number): Observable<any> {\n    const url = `${this.apiUrl}/geocode/json`;\n    const params = new HttpParams()\n      .set('latlng', `${lat},${lng}`)\n      .set('key', environment.apiKey);\n  \n    return this.http.get(url, { params }).pipe(\n      map((response: any) => response),\n      catchError((error) => {\n        console.error('Error in reverse geocoding:', error);\n        this.overlay.showAlert('GeoError', error.message);\n        return of(null);\n      })\n    );\n  }\n\n  // Convert the address to lat and lng\n  getLatLng(address: string): Observable<any> {\n    const url = `${this.apiUrl}/geocode/json`;\n    const params = new HttpParams()\n      .set('address', address)\n      .set('key', environment.apiKey);\n\n    return this.http.get(url, { params }).pipe(\n      map((response: any) => response),\n      catchError((error) => {\n        console.error('Error in geocoding:', error);\n        this.overlay.showAlert('GeoError', error.message);\n        return of(null);\n      })\n    );\n  }\n\n  \n\n  // Get the distance between the origin and destination\n  async getDirections(from: string, to: string): Promise<any> {\n    try {\n      // You can implement the directions request here using google.maps.DirectionsService\n    } catch (e) {\n      this.overlay.showAlert('GeoError', e);\n      console.log(e);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { GoogleMap, Marker } from '@capacitor/google-maps';\nimport { environment } from 'src/environments/environment';\nimport { GeocodeService } from './geocode.service';\nimport { OverlayService } from './overlay.service';\nimport { HttpClient, HttpParams } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n  LatLng: { lat: any; lng: any; };\n  locationAddress: string = 'Loading..';\n  showResetLocationButton: boolean;\n  mapPinStage: any;\n  D_LatLng: { lat: any; lng: any; };\n  actualLocation: any;\n  exampleMapId: any;\n  newMap: GoogleMap;\n\n  constructor(private overlay: OverlayService, private geocode: GeocodeService, private http: HttpClient) {}\n\n  async createMap(ref, coords) {\n    try {\n      this.newMap = await GoogleMap.create({\n        id: 'my-cool-map',\n        element: ref,\n        apiKey: environment.apiKey,\n        config: {\n          center: {\n            lat: 5.5122138,\n            lng: 7.4919135\n          },\n          zoom: 15,\n          height: 100,\n          width: 300,\n            scaleControl: false,\n            streetViewControl: false,\n            rotateControl: false,\n            fullscreenControl: false,\n          \n        },\n      });\n\n      this.LatLng = {\n        lat: coords.coords.latitude,\n        lng: coords.coords.longitude\n      };\n\n      await this.newMap.enableTrafficLayer(true);\n      await this.newMap.enableCurrentLocation(true);\n      await this.newMap.setCamera({\n        animate: true,\n        animationDuration: 500,\n        zoom: 15,\n        coordinate: this.LatLng\n      });\n\n      const address = await this.getAddress(this.LatLng.lat, this.LatLng.lng);\n      \n      // Log the address response for debugging\n      console.log('Address response:', address);\n\n      if (address && address.results) {\n        if (address.results.length > 0) {\n          this.actualLocation = address.results[0].formatted_address;\n        } else {\n          console.log('No results found in address data');\n        }\n\n        if (address.results.length > 1) {\n          const components = address.results[1].address_components;\n          if (components.length >= 2) {\n            this.locationAddress = components[0].long_name + ' ' + components[1].long_name;\n          } else {\n            console.log('Not enough address components for the second result');\n          }\n        } else {\n          console.log('Less than two results found in address data');\n        }\n      } else {\n        console.log('Address data is undefined or does not contain results');\n      }\n    } catch (e) {\n      console.log('Error creating map or getting address:', e);\n    }\n  }\n\n  calculateCenter(points) {\n    const latitudes = points.map(p => p.geoCode.latitude);\n    const longitudes = points.map(p => p.geoCode.longitude);\n  \n    const avgLat = latitudes.reduce((a, b) => a + b, 0) / latitudes.length;\n    const avgLng = longitudes.reduce((a, b) => a + b, 0) / longitudes.length;\n  \n    return { latitude: avgLat, longitude: avgLng };\n  }\n\n  async setCameraToLocation(coordinate: { lat: number; lng: number }, zoom: number, bearing: any) {\n    if (this.newMap) {\n      try {\n        await this.newMap.setCamera({\n          animate: true,\n          animationDuration: 500,\n          zoom: zoom,\n          coordinate: coordinate,\n          bearing: bearing\n        });\n      } catch (error) {\n        console.error('Error setting camera:', error);\n      }\n    } else {\n      console.error('Map is not initialized.');\n    }\n  }\n  \n  // Add other necessary methods like getAddress here\n\n  \n  \n   getBoundsZoomLevel(bounds, mapDim) {\n    const WORLD_DIM = { height: 256, width: 256 };\n      const ZOOM_MAX = 21;\n\n      const latRad = lat => {\n        const sin = Math.sin((lat * Math.PI) / 180);\n        const radX2 = Math.log((1 + sin) / (1 - sin)) / 2;\n        return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;\n      };\n\n      const zoom = (mapPx, worldPx, fraction) =>\n        Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2);\n\n      const ne = bounds.getNorthEast();\n      const sw = bounds.getSouthWest();\n\n      const latFraction = (latRad(ne.lat()) - latRad(sw.lat())) / Math.PI;\n\n      const lngDiff = ne.lng() - sw.lng();\n      const lngFraction = (lngDiff < 0 ? lngDiff + 360 : lngDiff) / 360;\n\n      const latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);\n      const lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);\n\n      return Math.min(latZoom, lngZoom, ZOOM_MAX);\n  }\n  \n  calculateBearing(start, end) {\n    const startLat = start.lat * (Math.PI / 180);\n    const startLng = start.lng * (Math.PI / 180);\n    const endLat = end.lat * (Math.PI / 180);\n    const endLng = end.lng * (Math.PI / 180);\n  \n    const dLng = endLng - startLng;\n    const y = Math.sin(dLng) * Math.cos(endLat);\n    const x = Math.cos(startLat) * Math.sin(endLat) - Math.sin(startLat) * Math.cos(endLat) * Math.cos(dLng);\n    const bearing = Math.atan2(y, x) * (180 / Math.PI);\n  \n    return (bearing + 360) % 360;\n  }\n  async getDirections(from: string, to: string): Promise<any> {\n    try {\n      const url = `https://maps.googleapis.com/maps/api/directions/json?origin=${from}&destination=${to}&key=${environment.apiKey}`;\n      const response = await this.http.get(url).toPromise();\n      return response;\n    } catch (error) {\n      console.error('Error in getting directions:', error);\n      return null;\n    }\n  }\n\n getAddress(lat: number, lng: number): Promise<any> {\n    const url = `https://maps.googleapis.com/maps/api/geocode/json`;\n    const params = new HttpParams()\n      .set('latlng', `${lat},${lng}`)\n      .set('key', environment.apiKey);\n\n    return this.http.get(url, { params }).toPromise();\n  }\n\n  // Add the addMarker method to the MapService class\n  async addMarker(lat: number, lng: number, title: string): Promise<Marker> {\n    try {\n      const marker: Marker = {\n        coordinate: { lat, lng },\n        title,\n      };\n      await this.newMap.addMarker(marker);\n      return marker;\n    } catch (error) {\n      console.error('Error adding marker:', error);\n      return null;\n    }\n  }\n}\n","// src/app/services/network.service.ts\n\nimport { Injectable } from '@angular/core';\nimport { Network } from '@capacitor/network';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NetworkService {\n  private networkStatus = new BehaviorSubject<boolean>(true);\n  networkStatus$ = this.networkStatus.asObservable();\n\n  constructor() {\n    this.initializeNetworkListener();\n  }\n\n  private initializeNetworkListener() {\n    Network.addListener('networkStatusChange', status => {\n      console.log('Network status changed', status);\n      this.networkStatus.next(status.connected);\n\n      if (status.connected) {\n        this.handleReconnect();\n      } else {\n        this.handleDisconnect();\n      }\n    });\n\n    this.checkInitialNetworkStatus();\n  }\n\n  private async checkInitialNetworkStatus() {\n    const status = await Network.getStatus();\n    this.networkStatus.next(status.connected);\n    if (!status.connected) {\n      this.handleDisconnect();\n    }\n  }\n\n  private handleDisconnect() {\n    console.log('Disconnected from network');\n    // Handle the UI or logic when the network is disconnected\n  }\n\n  private handleReconnect() {\n    console.log('Reconnected to network');\n    // Handle the UI or logic when the network is reconnected\n  }\n\n  isConnected(): boolean {\n    return this.networkStatus.value;\n  }\n}\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n","import { CapacitorGoogleMaps } from './implementation';\nexport class LatLngBounds {\n    constructor(bounds) {\n        this.southwest = bounds.southwest;\n        this.center = bounds.center;\n        this.northeast = bounds.northeast;\n    }\n    async contains(point) {\n        const result = await CapacitorGoogleMaps.mapBoundsContains({\n            bounds: this,\n            point,\n        });\n        return result['contains'];\n    }\n    async extend(point) {\n        const result = await CapacitorGoogleMaps.mapBoundsExtend({\n            bounds: this,\n            point,\n        });\n        this.southwest = result['bounds']['southwest'];\n        this.center = result['bounds']['center'];\n        this.northeast = result['bounds']['northeast'];\n        return this;\n    }\n}\nexport var MapType;\n(function (MapType) {\n    /**\n     * Basic map.\n     */\n    MapType[\"Normal\"] = \"Normal\";\n    /**\n     * Satellite imagery with roads and labels.\n     */\n    MapType[\"Hybrid\"] = \"Hybrid\";\n    /**\n     * Satellite imagery with no labels.\n     */\n    MapType[\"Satellite\"] = \"Satellite\";\n    /**\n     * Topographic data.\n     */\n    MapType[\"Terrain\"] = \"Terrain\";\n    /**\n     * No base map tiles.\n     */\n    MapType[\"None\"] = \"None\";\n})(MapType || (MapType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst CapacitorGoogleMaps = registerPlugin('CapacitorGoogleMaps', {\n    web: () => import('./web').then(m => new m.CapacitorGoogleMapsWeb()),\n});\nCapacitorGoogleMaps.addListener('isMapInFocus', data => {\n    var _a;\n    const x = data.x;\n    const y = data.y;\n    const elem = document.elementFromPoint(x, y);\n    const internalId = (_a = elem === null || elem === void 0 ? void 0 : elem.dataset) === null || _a === void 0 ? void 0 : _a.internalId;\n    const mapInFocus = internalId === data.mapId;\n    CapacitorGoogleMaps.dispatchMapEvent({ id: data.mapId, focus: mapInFocus });\n});\nexport { CapacitorGoogleMaps };\n","/* eslint-disable @typescript-eslint/no-namespace */\nimport { LatLngBounds, MapType, } from './definitions';\nimport { GoogleMap } from './map';\nexport { GoogleMap, LatLngBounds, MapType, };\n","import { Capacitor } from '@capacitor/core';\nimport { LatLngBounds, MapType } from './definitions';\nimport { CapacitorGoogleMaps } from './implementation';\nclass MapCustomElement extends HTMLElement {\n    constructor() {\n        super();\n    }\n    connectedCallback() {\n        this.innerHTML = '';\n        if (Capacitor.getPlatform() == 'ios') {\n            this.style.overflow = 'scroll';\n            this.style['-webkit-overflow-scrolling'] = 'touch';\n            const overflowDiv = document.createElement('div');\n            overflowDiv.style.height = '200%';\n            this.appendChild(overflowDiv);\n        }\n    }\n}\ncustomElements.define('capacitor-google-map', MapCustomElement);\nexport class GoogleMap {\n    constructor(id) {\n        this.element = null;\n        this.resizeObserver = null;\n        this.handleScrollEvent = () => this.updateMapBounds();\n        this.id = id;\n    }\n    /**\n     * Creates a new instance of a Google Map\n     * @param options\n     * @param callback\n     * @returns GoogleMap\n     */\n    static async create(options, callback) {\n        const newMap = new GoogleMap(options.id);\n        if (!options.element) {\n            throw new Error('container element is required');\n        }\n        if (options.config.androidLiteMode === undefined) {\n            options.config.androidLiteMode = false;\n        }\n        newMap.element = options.element;\n        newMap.element.dataset.internalId = options.id;\n        const elementBounds = await GoogleMap.getElementBounds(options.element);\n        options.config.width = elementBounds.width;\n        options.config.height = elementBounds.height;\n        options.config.x = elementBounds.x;\n        options.config.y = elementBounds.y;\n        options.config.devicePixelRatio = window.devicePixelRatio;\n        if (Capacitor.getPlatform() == 'android') {\n            newMap.initScrolling();\n        }\n        if (Capacitor.isNativePlatform()) {\n            options.element = {};\n            const getMapBounds = () => {\n                var _a, _b;\n                const mapRect = (_b = (_a = newMap.element) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) !== null && _b !== void 0 ? _b : {};\n                return {\n                    x: mapRect.x,\n                    y: mapRect.y,\n                    width: mapRect.width,\n                    height: mapRect.height,\n                };\n            };\n            const onDisplay = () => {\n                CapacitorGoogleMaps.onDisplay({\n                    id: newMap.id,\n                    mapBounds: getMapBounds(),\n                });\n            };\n            const onResize = () => {\n                CapacitorGoogleMaps.onResize({\n                    id: newMap.id,\n                    mapBounds: getMapBounds(),\n                });\n            };\n            const ionicPage = newMap.element.closest('.ion-page');\n            if (Capacitor.getPlatform() === 'ios' && ionicPage) {\n                ionicPage.addEventListener('ionViewWillEnter', () => {\n                    setTimeout(() => {\n                        onDisplay();\n                    }, 100);\n                });\n                ionicPage.addEventListener('ionViewDidEnter', () => {\n                    setTimeout(() => {\n                        onDisplay();\n                    }, 100);\n                });\n            }\n            const lastState = {\n                width: elementBounds.width,\n                height: elementBounds.height,\n                isHidden: false,\n            };\n            newMap.resizeObserver = new ResizeObserver(() => {\n                if (newMap.element != null) {\n                    const mapRect = newMap.element.getBoundingClientRect();\n                    const isHidden = mapRect.width === 0 && mapRect.height === 0;\n                    if (!isHidden) {\n                        if (lastState.isHidden) {\n                            if (Capacitor.getPlatform() === 'ios' && !ionicPage) {\n                                onDisplay();\n                            }\n                        }\n                        else if (lastState.width !== mapRect.width ||\n                            lastState.height !== mapRect.height) {\n                            onResize();\n                        }\n                    }\n                    lastState.width = mapRect.width;\n                    lastState.height = mapRect.height;\n                    lastState.isHidden = isHidden;\n                }\n            });\n            newMap.resizeObserver.observe(newMap.element);\n        }\n        // small delay to allow for iOS WKWebView to setup corresponding element sub-scroll views ???\n        await new Promise((resolve, reject) => {\n            setTimeout(async () => {\n                try {\n                    await CapacitorGoogleMaps.create(options);\n                    resolve(undefined);\n                }\n                catch (err) {\n                    reject(err);\n                }\n            }, 200);\n        });\n        if (callback) {\n            const onMapReadyListener = await CapacitorGoogleMaps.addListener('onMapReady', (data) => {\n                if (data.mapId == newMap.id) {\n                    callback(data);\n                    onMapReadyListener.remove();\n                }\n            });\n        }\n        return newMap;\n    }\n    static async getElementBounds(element) {\n        return new Promise(resolve => {\n            let elementBounds = element.getBoundingClientRect();\n            if (elementBounds.width == 0) {\n                let retries = 0;\n                const boundsInterval = setInterval(function () {\n                    if (elementBounds.width == 0 && retries < 30) {\n                        elementBounds = element.getBoundingClientRect();\n                        retries++;\n                    }\n                    else {\n                        if (retries == 30) {\n                            console.warn('Map size could not be determined');\n                        }\n                        clearInterval(boundsInterval);\n                        resolve(elementBounds);\n                    }\n                }, 100);\n            }\n            else {\n                resolve(elementBounds);\n            }\n        });\n    }\n    /**\n     * Enable touch events on native map\n     *\n     * @returns void\n     */\n    async enableTouch() {\n        return CapacitorGoogleMaps.enableTouch({\n            id: this.id,\n        });\n    }\n    /**\n     * Disable touch events on native map\n     *\n     * @returns void\n     */\n    async disableTouch() {\n        return CapacitorGoogleMaps.disableTouch({\n            id: this.id,\n        });\n    }\n    /**\n     * Enable marker clustering\n     *\n     * @param minClusterSize - The minimum number of markers that can be clustered together.\n     * @defaultValue 4\n     *\n     * @returns void\n     */\n    async enableClustering(minClusterSize) {\n        return CapacitorGoogleMaps.enableClustering({\n            id: this.id,\n            minClusterSize,\n        });\n    }\n    /**\n     * Disable marker clustering\n     *\n     * @returns void\n     */\n    async disableClustering() {\n        return CapacitorGoogleMaps.disableClustering({\n            id: this.id,\n        });\n    }\n    /**\n     * Adds a marker to the map\n     *\n     * @param marker\n     * @returns created marker id\n     */\n    async addMarker(marker) {\n        const res = await CapacitorGoogleMaps.addMarker({\n            id: this.id,\n            marker,\n        });\n        return res.id;\n    }\n    /**\n     * Adds multiple markers to the map\n     *\n     * @param markers\n     * @returns array of created marker IDs\n     */\n    async addMarkers(markers) {\n        const res = await CapacitorGoogleMaps.addMarkers({\n            id: this.id,\n            markers,\n        });\n        return res.ids;\n    }\n    /**\n     * Remove marker from the map\n     *\n     * @param id id of the marker to remove from the map\n     * @returns\n     */\n    async removeMarker(id) {\n        return CapacitorGoogleMaps.removeMarker({\n            id: this.id,\n            markerId: id,\n        });\n    }\n    /**\n     * Remove markers from the map\n     *\n     * @param ids array of ids to remove from the map\n     * @returns\n     */\n    async removeMarkers(ids) {\n        return CapacitorGoogleMaps.removeMarkers({\n            id: this.id,\n            markerIds: ids,\n        });\n    }\n    async addPolygons(polygons) {\n        const res = await CapacitorGoogleMaps.addPolygons({\n            id: this.id,\n            polygons,\n        });\n        return res.ids;\n    }\n    async addPolylines(polylines) {\n        const res = await CapacitorGoogleMaps.addPolylines({\n            id: this.id,\n            polylines,\n        });\n        return res.ids;\n    }\n    async removePolygons(ids) {\n        return CapacitorGoogleMaps.removePolygons({\n            id: this.id,\n            polygonIds: ids,\n        });\n    }\n    async addCircles(circles) {\n        const res = await CapacitorGoogleMaps.addCircles({\n            id: this.id,\n            circles,\n        });\n        return res.ids;\n    }\n    async removeCircles(ids) {\n        return CapacitorGoogleMaps.removeCircles({\n            id: this.id,\n            circleIds: ids,\n        });\n    }\n    async removePolylines(ids) {\n        return CapacitorGoogleMaps.removePolylines({\n            id: this.id,\n            polylineIds: ids,\n        });\n    }\n    /**\n     * Destroy the current instance of the map\n     */\n    async destroy() {\n        var _a;\n        if (Capacitor.getPlatform() == 'android') {\n            this.disableScrolling();\n        }\n        if (Capacitor.isNativePlatform()) {\n            (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        }\n        this.removeAllMapListeners();\n        return CapacitorGoogleMaps.destroy({\n            id: this.id,\n        });\n    }\n    /**\n     * Update the map camera configuration\n     *\n     * @param config\n     * @returns\n     */\n    async setCamera(config) {\n        return CapacitorGoogleMaps.setCamera({\n            id: this.id,\n            config,\n        });\n    }\n    async getMapType() {\n        const { type } = await CapacitorGoogleMaps.getMapType({ id: this.id });\n        return MapType[type];\n    }\n    /**\n     * Sets the type of map tiles that should be displayed.\n     *\n     * @param mapType\n     * @returns\n     */\n    async setMapType(mapType) {\n        return CapacitorGoogleMaps.setMapType({\n            id: this.id,\n            mapType,\n        });\n    }\n    /**\n     * Sets whether indoor maps are shown, where available.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableIndoorMaps(enabled) {\n        return CapacitorGoogleMaps.enableIndoorMaps({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Controls whether the map is drawing traffic data, if available.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableTrafficLayer(enabled) {\n        return CapacitorGoogleMaps.enableTrafficLayer({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Show accessibility elements for overlay objects, such as Marker and Polyline.\n     *\n     * Only available on iOS.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableAccessibilityElements(enabled) {\n        return CapacitorGoogleMaps.enableAccessibilityElements({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Set whether the My Location dot and accuracy circle is enabled.\n     *\n     * @param enabled\n     * @returns\n     */\n    async enableCurrentLocation(enabled) {\n        return CapacitorGoogleMaps.enableCurrentLocation({\n            id: this.id,\n            enabled,\n        });\n    }\n    /**\n     * Set padding on the 'visible' region of the view.\n     *\n     * @param padding\n     * @returns\n     */\n    async setPadding(padding) {\n        return CapacitorGoogleMaps.setPadding({\n            id: this.id,\n            padding,\n        });\n    }\n    /**\n     * Get the map's current viewport latitude and longitude bounds.\n     *\n     * @returns {LatLngBounds}\n     */\n    async getMapBounds() {\n        return new LatLngBounds(await CapacitorGoogleMaps.getMapBounds({\n            id: this.id,\n        }));\n    }\n    async fitBounds(bounds, padding) {\n        return CapacitorGoogleMaps.fitBounds({\n            id: this.id,\n            bounds,\n            padding,\n        });\n    }\n    initScrolling() {\n        const ionContents = document.getElementsByTagName('ion-content');\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < ionContents.length; i++) {\n            ionContents[i].scrollEvents = true;\n        }\n        window.addEventListener('ionScroll', this.handleScrollEvent);\n        window.addEventListener('scroll', this.handleScrollEvent);\n        window.addEventListener('resize', this.handleScrollEvent);\n        if (screen.orientation) {\n            screen.orientation.addEventListener('change', () => {\n                setTimeout(this.updateMapBounds, 500);\n            });\n        }\n        else {\n            window.addEventListener('orientationchange', () => {\n                setTimeout(this.updateMapBounds, 500);\n            });\n        }\n    }\n    disableScrolling() {\n        window.removeEventListener('ionScroll', this.handleScrollEvent);\n        window.removeEventListener('scroll', this.handleScrollEvent);\n        window.removeEventListener('resize', this.handleScrollEvent);\n        if (screen.orientation) {\n            screen.orientation.removeEventListener('change', () => {\n                setTimeout(this.updateMapBounds, 1000);\n            });\n        }\n        else {\n            window.removeEventListener('orientationchange', () => {\n                setTimeout(this.updateMapBounds, 1000);\n            });\n        }\n    }\n    updateMapBounds() {\n        if (this.element) {\n            const mapRect = this.element.getBoundingClientRect();\n            CapacitorGoogleMaps.onScroll({\n                id: this.id,\n                mapBounds: {\n                    x: mapRect.x,\n                    y: mapRect.y,\n                    width: mapRect.width,\n                    height: mapRect.height,\n                },\n            });\n        }\n    }\n    /*\n    private findContainerElement(): HTMLElement | null {\n      if (!this.element) {\n        return null;\n      }\n  \n      let parentElement = this.element.parentElement;\n      while (parentElement !== null) {\n        if (window.getComputedStyle(parentElement).overflowY !== 'hidden') {\n          return parentElement;\n        }\n  \n        parentElement = parentElement.parentElement;\n      }\n  \n      return null;\n    }\n    */\n    /**\n     * Set the event listener on the map for 'onCameraIdle' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCameraIdleListener(callback) {\n        if (this.onCameraIdleListener) {\n            this.onCameraIdleListener.remove();\n        }\n        if (callback) {\n            this.onCameraIdleListener = await CapacitorGoogleMaps.addListener('onCameraIdle', this.generateCallback(callback));\n        }\n        else {\n            this.onCameraIdleListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onBoundsChanged' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnBoundsChangedListener(callback) {\n        if (this.onBoundsChangedListener) {\n            this.onBoundsChangedListener.remove();\n        }\n        if (callback) {\n            this.onBoundsChangedListener = await CapacitorGoogleMaps.addListener('onBoundsChanged', this.generateCallback(callback));\n        }\n        else {\n            this.onBoundsChangedListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onCameraMoveStarted' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCameraMoveStartedListener(callback) {\n        if (this.onCameraMoveStartedListener) {\n            this.onCameraMoveStartedListener.remove();\n        }\n        if (callback) {\n            this.onCameraMoveStartedListener = await CapacitorGoogleMaps.addListener('onCameraMoveStarted', this.generateCallback(callback));\n        }\n        else {\n            this.onCameraMoveStartedListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onClusterClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnClusterClickListener(callback) {\n        if (this.onClusterClickListener) {\n            this.onClusterClickListener.remove();\n        }\n        if (callback) {\n            this.onClusterClickListener = await CapacitorGoogleMaps.addListener('onClusterClick', this.generateCallback(callback));\n        }\n        else {\n            this.onClusterClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onClusterInfoWindowClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnClusterInfoWindowClickListener(callback) {\n        if (this.onClusterInfoWindowClickListener) {\n            this.onClusterInfoWindowClickListener.remove();\n        }\n        if (callback) {\n            this.onClusterInfoWindowClickListener =\n                await CapacitorGoogleMaps.addListener('onClusterInfoWindowClick', this.generateCallback(callback));\n        }\n        else {\n            this.onClusterInfoWindowClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onInfoWindowClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnInfoWindowClickListener(callback) {\n        if (this.onInfoWindowClickListener) {\n            this.onInfoWindowClickListener.remove();\n        }\n        if (callback) {\n            this.onInfoWindowClickListener = await CapacitorGoogleMaps.addListener('onInfoWindowClick', this.generateCallback(callback));\n        }\n        else {\n            this.onInfoWindowClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMapClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMapClickListener(callback) {\n        if (this.onMapClickListener) {\n            this.onMapClickListener.remove();\n        }\n        if (callback) {\n            this.onMapClickListener = await CapacitorGoogleMaps.addListener('onMapClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMapClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onPolygonClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnPolygonClickListener(callback) {\n        if (this.onPolygonClickListener) {\n            this.onPolygonClickListener.remove();\n        }\n        if (callback) {\n            this.onPolygonClickListener = await CapacitorGoogleMaps.addListener('onPolygonClick', this.generateCallback(callback));\n        }\n        else {\n            this.onPolygonClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onCircleClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnCircleClickListener(callback) {\n        if (this.onCircleClickListener)\n            [this.onCircleClickListener.remove()];\n        if (callback) {\n            this.onCircleClickListener = await CapacitorGoogleMaps.addListener('onCircleClick', this.generateCallback(callback));\n        }\n        else {\n            this.onCircleClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerClickListener(callback) {\n        if (this.onMarkerClickListener) {\n            this.onMarkerClickListener.remove();\n        }\n        if (callback) {\n            this.onMarkerClickListener = await CapacitorGoogleMaps.addListener('onMarkerClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onPolylineClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnPolylineClickListener(callback) {\n        if (this.onPolylineClickListener) {\n            this.onPolylineClickListener.remove();\n        }\n        if (callback) {\n            this.onPolylineClickListener = await CapacitorGoogleMaps.addListener('onPolylineClick', this.generateCallback(callback));\n        }\n        else {\n            this.onPolylineClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerDragStart' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerDragStartListener(callback) {\n        if (this.onMarkerDragStartListener) {\n            this.onMarkerDragStartListener.remove();\n        }\n        if (callback) {\n            this.onMarkerDragStartListener = await CapacitorGoogleMaps.addListener('onMarkerDragStart', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerDragStartListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerDrag' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerDragListener(callback) {\n        if (this.onMarkerDragListener) {\n            this.onMarkerDragListener.remove();\n        }\n        if (callback) {\n            this.onMarkerDragListener = await CapacitorGoogleMaps.addListener('onMarkerDrag', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerDragListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMarkerDragEnd' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMarkerDragEndListener(callback) {\n        if (this.onMarkerDragEndListener) {\n            this.onMarkerDragEndListener.remove();\n        }\n        if (callback) {\n            this.onMarkerDragEndListener = await CapacitorGoogleMaps.addListener('onMarkerDragEnd', this.generateCallback(callback));\n        }\n        else {\n            this.onMarkerDragEndListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMyLocationButtonClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMyLocationButtonClickListener(callback) {\n        if (this.onMyLocationButtonClickListener) {\n            this.onMyLocationButtonClickListener.remove();\n        }\n        if (callback) {\n            this.onMyLocationButtonClickListener =\n                await CapacitorGoogleMaps.addListener('onMyLocationButtonClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMyLocationButtonClickListener = undefined;\n        }\n    }\n    /**\n     * Set the event listener on the map for 'onMyLocationClick' events.\n     *\n     * @param callback\n     * @returns\n     */\n    async setOnMyLocationClickListener(callback) {\n        if (this.onMyLocationClickListener) {\n            this.onMyLocationClickListener.remove();\n        }\n        if (callback) {\n            this.onMyLocationClickListener = await CapacitorGoogleMaps.addListener('onMyLocationClick', this.generateCallback(callback));\n        }\n        else {\n            this.onMyLocationClickListener = undefined;\n        }\n    }\n    /**\n     * Remove all event listeners on the map.\n     *\n     * @param callback\n     * @returns\n     */\n    async removeAllMapListeners() {\n        if (this.onBoundsChangedListener) {\n            this.onBoundsChangedListener.remove();\n            this.onBoundsChangedListener = undefined;\n        }\n        if (this.onCameraIdleListener) {\n            this.onCameraIdleListener.remove();\n            this.onCameraIdleListener = undefined;\n        }\n        if (this.onCameraMoveStartedListener) {\n            this.onCameraMoveStartedListener.remove();\n            this.onCameraMoveStartedListener = undefined;\n        }\n        if (this.onClusterClickListener) {\n            this.onClusterClickListener.remove();\n            this.onClusterClickListener = undefined;\n        }\n        if (this.onClusterInfoWindowClickListener) {\n            this.onClusterInfoWindowClickListener.remove();\n            this.onClusterInfoWindowClickListener = undefined;\n        }\n        if (this.onInfoWindowClickListener) {\n            this.onInfoWindowClickListener.remove();\n            this.onInfoWindowClickListener = undefined;\n        }\n        if (this.onMapClickListener) {\n            this.onMapClickListener.remove();\n            this.onMapClickListener = undefined;\n        }\n        if (this.onPolylineClickListener) {\n            this.onPolylineClickListener.remove();\n            this.onPolylineClickListener = undefined;\n        }\n        if (this.onMarkerClickListener) {\n            this.onMarkerClickListener.remove();\n            this.onMarkerClickListener = undefined;\n        }\n        if (this.onPolygonClickListener) {\n            this.onPolygonClickListener.remove();\n            this.onPolygonClickListener = undefined;\n        }\n        if (this.onCircleClickListener) {\n            this.onCircleClickListener.remove();\n            this.onCircleClickListener = undefined;\n        }\n        if (this.onMarkerDragStartListener) {\n            this.onMarkerDragStartListener.remove();\n            this.onMarkerDragStartListener = undefined;\n        }\n        if (this.onMarkerDragListener) {\n            this.onMarkerDragListener.remove();\n            this.onMarkerDragListener = undefined;\n        }\n        if (this.onMarkerDragEndListener) {\n            this.onMarkerDragEndListener.remove();\n            this.onMarkerDragEndListener = undefined;\n        }\n        if (this.onMyLocationButtonClickListener) {\n            this.onMyLocationButtonClickListener.remove();\n            this.onMyLocationButtonClickListener = undefined;\n        }\n        if (this.onMyLocationClickListener) {\n            this.onMyLocationClickListener.remove();\n            this.onMyLocationClickListener = undefined;\n        }\n    }\n    generateCallback(callback) {\n        const mapId = this.id;\n        return (data) => {\n            if (data.mapId == mapId) {\n                callback(data);\n            }\n        };\n    }\n}\n","import { registerPlugin } from '@capacitor/core';\nconst Preferences = registerPlugin('Preferences', {\n    web: () => import('./web').then(m => new m.PreferencesWeb()),\n});\nexport * from './definitions';\nexport { Preferences };\n","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n"],"names":["ElementRef","NgZone","Geolocation","AutocompleteComponent","Observable","interval","BehaviorSubject","Subscription","onSnapshot","doc","updateDoc","getDoc","EnrouteChatComponent","Network","Preferences","App","AddCardComponent","switchMap","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r17","duration","ɵɵlistener","HomePage_ion_toolbar_3_Template_ion_button_click_2_listener","ɵɵrestoreView","_r19","ctx_r18","ɵɵnextContext","ɵɵresetView","goBackToAutoComplete","ɵɵelement","ɵɵtemplate","HomePage_ion_toolbar_3_ion_label_9_Template","ɵɵproperty","ctx_r1","HomePage_ion_item_4_Template_ion_item_click_0_listener","_r21","ctx_r20","ctx_r2","destinationAddress","HomePage_ion_fab_6_Template_ion_fab_click_0_listener","_r23","ctx_r22","GotoSupport","HomePage_ion_fab_7_Template_ion_fab_click_0_listener","_r25","ctx_r24","HomePage_ion_item_8_Template_ion_button_click_5_listener","_r27","ctx_r26","presentCancelRideActionSheet","ɵɵtextInterpolate1","ctx_r6","HomePage_ion_fab_12_Template_ion_fab_button_click_1_listener","_r29","ctx_r28","resetLocation","HomePage_ion_list_18_ion_item_6_Template_ion_item_click_0_listener","restoredCtx","_r33","place_r31","$implicit","ctx_r32","RequestRide","place","city","HomePage_ion_list_18_Template_ion_button_click_2_listener","_r35","ctx_r34","showAutocompleteModal","HomePage_ion_list_18_ion_item_6_Template","ctx_r11","locationAddress","places","HomePage_ion_list_25_Template_ion_button_click_5_listener","_r37","ctx_r36","ReturnHome","HomePage_ion_list_26_ion_list_header_1_Template_ion_item_click_1_listener","_r45","ctx_r44","ShowDriverInfoPop","ctx_r38","carname","D_duration","driver_number_of_seats","price","card_r46","cardId","last4","HomePage_ion_list_26_ion_list_header_1_Template","HomePage_ion_list_26_ion_list_header_2_Template","HomePage_ion_list_26_Template_ion_select_ionChange_7_listener","$event","_r48","ctx_r47","chooseCard","HomePage_ion_list_26_ion_select_option_10_Template","HomePage_ion_list_26_Template_ion_button_click_11_listener","ctx_r49","StartRide","HomePage_ion_list_26_Template_ion_button_click_16_listener","ctx_r50","HomePage_ion_list_26_ion_icon_17_Template","HomePage_ion_list_26_ion_progress_bar_18_Template","HomePage_ion_list_26_ion_label_19_Template","ctx_r13","selectedCard","savedPaymentMethods","ctx_r14","currentDriver","Driver_imgUrl","Driver_name","HomePage_ion_list_28_ion_item_28_Template","HomePage_ion_list_28_ion_item_29_Template","HomePage_ion_list_28_Template_ion_button_click_41_listener","_r54","ctx_r53","CallDriver","HomePage_ion_list_28_Template_ion_button_click_45_listener","ctx_r55","EnterChat","HomePage_ion_list_28_Template_ion_button_click_49_listener","ctx_r56","ctx_r15","ɵɵtextInterpolate2","driverInfo","Driver_car","Driver_cartype","Driver_plate","Driver_rating","cash","HomePage_ion_list_29_ion_item_28_Template","HomePage_ion_list_29_ion_item_29_Template","ctx_r16","HomePage","constructor","authService","router","networkService","map","nav","platform","firestore","database","ngZone","geocode","overlay","modalCtrl","alert","payME","toastController","actionSheetController","profile","address","state","showResetLocationButton","current_Request_Number","countdownActive","RIDE_KEY","_carmarkers","networkStatus$","driverLocation","stopPolling","UPDATE_INTERVAL","initializeApp","ngOnDestroy","_this","_asyncToGenerator","window","removeEventListener","setMapHeight","bind","clearSubscriptions","unsubscribe","clearPrevMarkers","clearPolyline","newPoly","ngAfterViewInit","_this2","console","log","mapRef","nativeElement","offsetHeight","initializeBackButtonCustomHandler","initializeNetworkMonitoring","fetchSavedPaymentMethods","EnterBookingStage","initializeGeolocation","initializeMap","initializeDatabaseSubscriptions","setupMapListeners","newMap","enableCurrentLocation","LatLng","lat","lng","center","radiusInM","fetchAndDisplayDrivers","e","error","showAlert","_this3","getSavedPaymentMethods","length","event","detail","value","processPayment","email","amount","_this4","showLoader","paymentResult","processPaymentWithCardId","toPromise","errorMessage","showPaymentErrorModal","hideLoader","_this5","create","header","message","buttons","text","handler","_ref","modal","component","present","data","onWillDismiss","newCardId","apply","arguments","role","topBar","bottomBar","topBarHeight","bottomBarHeight","availableHeight","innerHeight","style","height","setMapHeightCreateAndAddMarkers","setMapHeightHandleDrivertoRider","setMapHeightHandleDrivertoDestination","_this6","status","getStatus","isConnected","connected","next","addListener","subscribe","navigate","_this7","ready","then","rideData","getRideState","saveRideState","set","key","JSON","stringify","get","parse","clearRideState","remove","restoreRideState","actualDestination","D_LatLng","setCamera","animate","animationDuration","zoom","coordinate","createAndAddMarkers","stage","setStage","_this8","permissionStatus","checkPermissions","location","permissionRequest","requestPermissions","startPermissionPolling","coordinates","getCurrentPosition","coords","latitude","longitude","updateLocation","startPollingPosition","_this9","permissionCheckInterval","setInterval","clearInterval","_this10","lastLatLng","lastAddress","pollingInterval","position","newLatLng","hasSignificantLocationChange","getAddress","results","components","address_components","long_name","actualLocation","formatted_address","err","oldLatLng","minDistance","R","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","distance","stopPollingPosition","_this11","createMap","mapy","Error","getKnownPlaces","d","slice","backButton","subscribeWithPriority","canGoBack","confirm","exitApp","history","back","_this12","setOnCameraIdleListener","_ref5","g","run","mapPinStage","addressResponse","processAddressResponse","_x","logout","_this13","_this14","drivers","checkDriversWithin","handleDrivers","drivers_Requested","UpdateCarMarker","NoDrivers","_this15","closeDrivers","forEach","driver","onlineState","push","updateDriverInfo","min","cleanupListeners","Object","values","activeListeners","driverImage","driver_duration_apart","ceil","driver_ID","Driver_id","seats","DriverLatLng","Driver_lat","Driver_lng","_this16","enableTouch","BookRide","clearMarkers","_this17","marker1","removeMarker","marker2","toString","marker","_this18","hasValidDriver","userDocRef","docSnapshot","exists","requestRideWithDriverDetails","handleNoAvailableDriver","showNoDriversAlert","_this19","requestDetails","latLng","dLatLng","driverId","requestID","RequestRideWithRiderDetails","handlePendingState","rideRequestDocRef","unsub","_ref7","handleRideUpdates","_x2","_this20","requestNextDriver","_this21","numCalls","countDown","routeUpdateSubscription","_this22","handleRideCancellation","handleRideConfirmation","handleRideStart","handleRideStop","_this23","getDriverLocation","addEventListener","handleDriverToRider","EnterSearchingStage","startCountdown","_this24","actionSheet","cancelRide","reason","_this25","rideRef","cancellationReason","canceledBy","toast","_this26","stopCountdown","rideHasStarted","ClearRide","_this27","handleRiderToDestination","canCheck","EnterDrivingToDestinationStage","_this28","createHistory","_this29","EnterTrackingStage","catch","_this30","options","componentProps","userId","swipeToClose","initialTime","requestId","_this31","timeRemaining","updateCountdown","_ref8","UpdateCountDown","setTimeout","handleCountdownEnd","_this32","_this33","ResetState","_this34","rider_marker","clearMarker","driver_marker","destinationMarker","animatedMarker","_this35","polyline","_this36","removePolylines","warn","_this37","_this38","pinOnMap","EnterMapPinStage","mapPinDrag","home","searching","AddKnownPlace","full","whole","getLatLng","description","geometry","getDistanceAndDirections","dat","_this39","EnterNoDriverStage","_this40","EnterConfirmStage","origin1","google","maps","origin2","request","origin","destination","travelMode","TravelMode","DRIVING","directions","route","_ref10","response","direction","routes","legs","bounds","getPriceEstimate","getDistanceAndDirectionsDriver","_x3","_x4","_this41","_this42","addressComponents","elements","_this43","LatLngBounds","driverMap","Map","element","updatedMarkers","id","undefined","latlng","newMarker","addMarker","iconUrl","title","iconSize","width","extend","existingMarkerIndex","findIndex","mapDim","offsetWidth","minZoom","maxZoom","zoomLevel","getBoundsZoomLevel","max","getCenter","fitBounds","GoHome","_this44","_this45","navigateForward","_this46","CancelRide","_this47","riderCleared","_this48","bearing","driverLatLng","riderLatLng","_this49","markerSize","iconAnchor","x","y","driverMarker","iconOrigin","riderMarker","user","photoURL","updateRoute","_ref11","_ref12","path","overview_path","locs","geoCode","calculateCenter","adjustedZoomLevel","setCameraToLocation","calculateBearing","addPolyline","animateMarker","_x5","_x6","routeUpdate$","pipe","destinationLatLng","_this50","_ref13","_ref14","_x7","_x8","loc","des","_this51","polylineColor","polylines","strokeColor","strokeWeight","geodesic","addPolylines","_this52","disableTouch","_this53","i","Promise","resolve","_this54","activeStage","stages","bookingStage","confirmStage","trackingStage","searchingStage","noDriverStage","drivingToDestinationStage","updateStage","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","NetworkService","i4","MapService","i5","NavController","Platform","i6","Firestore","i7","AvatarService","i8","GeocodeService","i9","OverlayService","ModalController","AlertController","i10","PaymentService","ToastController","ActionSheetController","selectors","viewQuery","HomePage_Query","rf","ctx","HomePage_ion_toolbar_3_Template","HomePage_ion_item_4_Template","HomePage_ion_fab_5_Template","HomePage_ion_fab_6_Template","HomePage_ion_fab_7_Template","HomePage_ion_item_8_Template","HomePage_ion_fab_12_Template","HomePage_ion_fab_13_Template","HomePage_ion_list_18_Template","HomePage_Template_ion_button_click_21_listener","HomePage_ion_list_25_Template","HomePage_ion_list_26_Template","HomePage_ion_list_27_Template","HomePage_ion_list_28_Template","HomePage_ion_list_29_Template","environment","of","HttpParams","catchError","client","http","service","DistanceMatrixService","DirectionsService","apiUrl","url","params","apiKey","getDirections","from","to","ɵɵinject","Client","HttpClient","factory","ɵfac","providedIn","GoogleMap","ref","config","scaleControl","streetViewControl","rotateControl","fullscreenControl","enableTrafficLayer","points","latitudes","p","longitudes","avgLat","reduce","b","avgLng","WORLD_DIM","ZOOM_MAX","latRad","radX2","mapPx","worldPx","fraction","floor","LN2","ne","getNorthEast","sw","getSouthWest","latFraction","lngDiff","lngFraction","latZoom","lngZoom","start","end","startLat","startLng","endLat","endLng","dLng","networkStatus","asObservable","initializeNetworkListener","handleReconnect","handleDisconnect","checkInitialNetworkStatus","registerPlugin","web","m","GeolocationWeb","CapacitorGoogleMaps","southwest","northeast","contains","point","result","mapBoundsContains","mapBoundsExtend","MapType","CapacitorGoogleMapsWeb","_a","elem","document","elementFromPoint","internalId","dataset","mapInFocus","mapId","dispatchMapEvent","focus","Capacitor","MapCustomElement","HTMLElement","connectedCallback","innerHTML","getPlatform","overflow","overflowDiv","createElement","appendChild","customElements","define","resizeObserver","handleScrollEvent","updateMapBounds","callback","androidLiteMode","elementBounds","getElementBounds","devicePixelRatio","initScrolling","isNativePlatform","getMapBounds","_b","mapRect","getBoundingClientRect","onDisplay","mapBounds","onResize","ionicPage","closest","lastState","isHidden","ResizeObserver","observe","reject","onMapReadyListener","retries","boundsInterval","enableClustering","minClusterSize","disableClustering","res","addMarkers","markers","ids","markerId","removeMarkers","markerIds","addPolygons","polygons","removePolygons","polygonIds","addCircles","circles","removeCircles","circleIds","polylineIds","destroy","disableScrolling","disconnect","removeAllMapListeners","getMapType","type","setMapType","mapType","enableIndoorMaps","enabled","enableAccessibilityElements","setPadding","padding","ionContents","getElementsByTagName","scrollEvents","screen","orientation","onScroll","onCameraIdleListener","generateCallback","setOnBoundsChangedListener","onBoundsChangedListener","setOnCameraMoveStartedListener","onCameraMoveStartedListener","setOnClusterClickListener","onClusterClickListener","setOnClusterInfoWindowClickListener","onClusterInfoWindowClickListener","setOnInfoWindowClickListener","onInfoWindowClickListener","setOnMapClickListener","onMapClickListener","setOnPolygonClickListener","onPolygonClickListener","setOnCircleClickListener","onCircleClickListener","setOnMarkerClickListener","onMarkerClickListener","setOnPolylineClickListener","onPolylineClickListener","setOnMarkerDragStartListener","onMarkerDragStartListener","setOnMarkerDragListener","onMarkerDragListener","setOnMarkerDragEndListener","onMarkerDragEndListener","setOnMyLocationButtonClickListener","onMyLocationButtonClickListener","setOnMyLocationClickListener","onMyLocationClickListener","PreferencesWeb","async","isNumeric","period","scheduler","schedule","subscriber","add","dispatch","counter"],"sourceRoot":"webpack:///","x_google_ignoreList":[7,8,9,10,11,12,13]}