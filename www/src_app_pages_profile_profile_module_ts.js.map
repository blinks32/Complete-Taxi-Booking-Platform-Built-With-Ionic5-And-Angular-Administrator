{"version":3,"file":"src_app_pages_profile_profile_module_ts.js","mappings":"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","sources":["./src/app/pages/profile/profile-routing.module.ts","./src/app/pages/profile/profile.module.ts","./src/app/pages/profile/profile.page.ts","./src/app/pages/profile/profile.page.html","./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Auth } from '@angular/fire/auth';\nimport { Router } from '@angular/router';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { StatusBar } from '@capacitor/status-bar';\nimport { LoadingController, AlertController, NavController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n\n  profile = null;\n  user: import(\"@angular/fire/auth\").User;\n\n  constructor(\n    public avatarService: AvatarService,\n    private authService: AuthService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private alertController: AlertController,\n    private nav: NavController,\n    private auth: Auth,\n  ) {\n\n    this.auth.onAuthStateChanged(async (user)=>{\n      this.user = user;\n      console.log(user.phoneNumber);\n    })\n  }\n\n  async logout() {\n    await this.authService.logout();\n    this.router.navigateByUrl('/', { replaceUrl: true });\n  }\n\n  goBack(){\n    this.nav.pop();\n  }\n\n  ngOnInit() {\n  }\n\n  async changeImage() {\n    const image = await Camera.getPhoto({\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Base64,\n      source: CameraSource.Camera, // Camera, Photos or Prompt!\n    });\n\n    if (image) {\n      const loading = await this.loadingController.create();\n      await loading.present();\n\n      const result = await this.avatarService.uploadImage(image, this.avatarService.profile.uid);\n      loading.dismiss();\n\n      if (!result) {\n        const alert = await this.alertController.create({\n          header: 'Upload failed',\n          message: 'There was a problem uploading your avatar.',\n          buttons: ['OK'],\n        });\n        await alert.present();\n      }\n    }\n  }\n}","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button color=\"primary\">\n        <ion-back-button></ion-back-button>\n      </ion-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"logout()\">\n        <ion-icon slot=\"icon-only\" name=\"log-out\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title> My Profile </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"preview\">\n    <ion-avatar (click)=\"changeImage()\">\n      <img *ngIf=\"user?.photoURL; else placeholder_avatar;\" [src]=\"user.photoURL\" />\n\n      <ng-template #placeholder_avatar>\n        <div class=\"fallback\">\n          <p>Select avatar</p>\n        </div>\n      </ng-template>\n    </ion-avatar>\n  </div>\n\n  <ion-item class=\"ion-margin\">\n    <ion-icon name=\"call\" color='primary' slot=\"start\"></ion-icon>\n    <ion-label *ngIf=\"user\">\n      {{user.phoneNumber}}\n    </ion-label>\n </ion-item>\n  \n\n  <ion-item class=\"ion-margin\">\n    <ion-icon name=\"person\" color='primary' slot=\"start\"></ion-icon>\n      <ion-label *ngIf=\"user\">\n        {{user.displayName}}\n      </ion-label>\n  </ion-item>\n\n  <ion-item class=\"ion-margin\">\n    <ion-icon name=\"mail\" color='primary' slot=\"start\"></ion-icon>\n    <ion-label *ngIf=\"user\">\n      {{user.email}}\n    </ion-label>\n  </ion-item>\n\n    <ion-label color=\"primary\" class=\"ion-text-center ion-padding-top\">\n      <p>Ride reciepts will be sent to your email.</p></ion-label>\n\n</ion-content>","export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo from the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n"],"names":["Camera","CameraResultType","CameraSource","i0","ɵɵelement","ɵɵproperty","ctx_r0","user","photoURL","ɵɵsanitizeUrl","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r3","phoneNumber","ctx_r4","displayName","ctx_r5","email","ProfilePage","constructor","avatarService","authService","router","loadingController","alertController","nav","auth","_this","profile","onAuthStateChanged","_ref","_asyncToGenerator","console","log","_x","apply","arguments","logout","_this2","navigateByUrl","replaceUrl","goBack","pop","ngOnInit","changeImage","_this3","image","getPhoto","quality","allowEditing","resultType","Base64","source","loading","create","present","result","uploadImage","uid","dismiss","alert","header","message","buttons","ɵɵdirectiveInject","i1","AvatarService","i2","AuthService","i3","Router","i4","LoadingController","AlertController","NavController","i5","Auth","selectors","decls","vars","consts","template","ProfilePage_Template","rf","ctx","ɵɵlistener","ProfilePage_Template_ion_button_click_6_listener","ProfilePage_Template_ion_avatar_click_12_listener","ɵɵtemplate","ProfilePage_img_13_Template","ProfilePage_ng_template_14_Template","ɵɵtemplateRefExtractor","ProfilePage_ion_label_18_Template","ProfilePage_ion_label_21_Template","ProfilePage_ion_label_24_Template","_r1","CameraDirection","registerPlugin","web","then","m","CameraWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[4,5]}