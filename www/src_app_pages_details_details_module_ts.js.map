{"version":3,"file":"src_app_pages_details_details_module_ts.js","mappings":"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","sources":["./src/app/pages/details/details-routing.module.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.ts","./src/app/pages/details/details.page.html","./src/app/services/image-upload.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\nimport { DetailsPage } from './details.page';\nimport { initializeApp, provideFirebaseApp } from '@angular/fire/app';\nimport { getAuth, provideAuth } from '@angular/fire/auth';\nimport { environment } from 'src/environments/environment';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailsPageRoutingModule,\n    ReactiveFormsModule,\n    provideFirebaseApp(() => initializeApp(environment.firebase)),\n    provideAuth(() => getAuth())\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Auth, updateEmail, updateProfile, User, GoogleAuthProvider, signInWithPopup, RecaptchaVerifier, PhoneAuthProvider, reauthenticateWithCredential, signInWithPhoneNumber } from '@angular/fire/auth';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { Camera, CameraResultType, CameraSource, Photo } from '@capacitor/camera';\nimport { ActionSheetController, AlertController, LoadingController } from '@ionic/angular';\nimport { ImageUploadService } from 'src/app/services/image-upload.service'; // Import the service\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.page.html',\n  styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n\n  form: FormGroup;\n  imageUrl: string;\n  approve: boolean;\n  approve2: boolean;\n  user: User;\n\n  constructor(\n    private overlay: OverlayService,\n    private authy: Auth,\n    private authService: AuthService,\n    private avatar: AvatarService,\n    private router: Router,\n    private actionSheetController: ActionSheetController,\n    private alertController: AlertController,\n    private imageUploadService: ImageUploadService, // Inject the service\n    private loadingController: LoadingController\n  ) {\n    // Ensure the user is authenticated\n    this.authy.onAuthStateChanged((user) => {\n      if (user) {\n        this.user = user;\n        this.avatar.profile = user; // Ensure the profile is set\n        this.form.patchValue({\n          fullname: user.displayName?.split(' ')[0] || '',\n          lastname: user.displayName?.split(' ')[1] || '',\n          email: user.email || ''\n        });\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.form = new FormGroup({\n      fullname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      lastname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required, Validators.email, Validators.maxLength(200)]\n      })\n    });\n  }\n\n  async changeImage(source: CameraSource) {\n    try {\n      const image = await Camera.getPhoto({\n        quality: 90,\n        allowEditing: false,\n        resultType: CameraResultType.Base64,\n        source: source,\n      });\n  \n      if (image) {\n        const loading = await this.loadingController.create();\n        await loading.present();\n  \n        if (!this.avatar.profile?.uid) {\n          loading.dismiss();\n          const alert = await this.alertController.create({\n            header: 'Upload failed',\n            message: 'Profile UID is missing.',\n            buttons: ['OK'],\n          });\n          await alert.present();\n          return;\n        }\n  \n        try {\n          const result = await this.avatar.uploadImage(image, this.avatar.profile.uid);\n          loading.dismiss();\n  \n          if (!result) {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: 'There was a problem uploading your avatar.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          } else {\n            this.imageUrl = result; // Ensure imageUrl is updated\n            const alert = await this.alertController.create({\n              header: 'Upload Successful',\n              message: 'Your avatar has been successfully uploaded.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          }\n        } catch (uploadError) {\n          loading.dismiss();\n          if (uploadError.message.includes('Photo URL is required and must be less than 1000 characters')) {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: 'The image is too big. Please try another image with a smaller size.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          } else {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: `There was a problem uploading your avatar: ${uploadError.message}`,\n              buttons: ['OK'],\n            });\n            await alert.present();\n          }\n        }\n      }\n    } catch (error) {\n      const alert = await this.alertController.create({\n        header: 'Upload failed',\n        message: `There was a problem uploading your avatar: ${error.message}`,\n        buttons: ['OK'],\n      });\n      await alert.present();\n    }\n  }\n  \n\n\n  async presentImageSourceActionSheet() {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Select Image Source',\n      buttons: [\n        {\n          text: 'Camera',\n          icon: 'camera',\n          handler: () => {\n            this.changeImage(CameraSource.Camera);\n          }\n        },\n        {\n          text: 'Gallery',\n          icon: 'images',\n          handler: () => {\n            this.changeImage(CameraSource.Photos);\n          }\n        },\n        {\n          text: 'File',\n          icon: 'document',\n          handler: () => {\n            this.selectFile();\n          }\n        },\n        {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel'\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n\n  async selectFile() {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = async (event: any) => {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = async (e: any) => {\n          const image = {\n            base64String: e.target.result.split(',')[1]\n          };\n  \n\n          const result = await this.avatar.uploadImage(image as Photo, this.avatar.profile.uid);\n  \n          if (!result) {\n            const alert = await this.alertController.create({\n              header: 'Upload failed',\n              message: 'There was a problem uploading your avatar.',\n              buttons: ['OK'],\n            });\n            await alert.present();\n          } else {\n            this.imageUrl = result; // Ensure imageUrl is updated\n            // const alert = await this.alertController.create({\n            //   header: 'Upload Successful',\n            //   message: 'Your avatar has been successfully uploaded.',\n            //   buttons: ['OK'],\n            // });\n            // await alert.present();\n          }\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n    input.click();\n  }\n  \n\n  async reauthenticateWithPhoneNumber(): Promise<void> {\n    return new Promise<void>(async (resolve, reject) => {\n      try {\n        const user = this.authy.currentUser;\n        if (!user) throw new Error('User not authenticated');\n  \n        console.log('Creating reCAPTCHA container');\n        const recaptchaContainerId = 'recaptcha-container';\n        let recaptchaContainer = document.getElementById(recaptchaContainerId);\n        if (!recaptchaContainer) {\n          recaptchaContainer = document.createElement('div');\n          recaptchaContainer.id = recaptchaContainerId;\n          document.body.appendChild(recaptchaContainer);\n        } else {\n          recaptchaContainer.innerHTML = ''; // Clear any existing content\n        }\n  \n        console.log('Initializing reCAPTCHA verifier');\n        const recaptchaVerifier = new RecaptchaVerifier(recaptchaContainerId, {}, this.authy);\n        const phoneNumber = user.phoneNumber;\n  \n        if (!phoneNumber) {\n          throw new Error('User phone number is missing');\n        }\n  \n        let verificationResult;\n        try {\n          console.log('Attempting to sign in with phone number');\n          verificationResult = await signInWithPhoneNumber(this.authy, phoneNumber, recaptchaVerifier);\n          console.log('Verification result:', verificationResult);\n        } catch (error) {\n          console.error('Error during signInWithPhoneNumber', error);\n          this.overlay.showAlert('Error', 'An error occurred during phone number sign-in');\n          reject(error);\n          return;\n        }\n  \n        if (!verificationResult.verificationId) {\n          throw new Error('Verification ID is missing in the verification result');\n        }\n  \n        const storedOTP = localStorage.getItem('defaultOTP');\n        const userVerificationCode = storedOTP;\n        console.log(\"This is number: \" + userVerificationCode)\n  \n        console.log('Prompting user for verification code');\n        const alert = await this.alertController.create({\n          header: 'Verification',\n          inputs: [\n            {\n              name: 'verificationCode',\n              type: 'text',\n              placeholder: 'Enter verification code',\n              value: userVerificationCode // Set default value if isRandom is true\n            }\n          ],\n          buttons: [\n            {\n              text: 'Cancel',\n              role: 'cancel',\n              handler: () => {\n                console.log('Verification cancelled');\n                reject(new Error('Verification cancelled'));\n              }\n            },\n            {\n              text: 'Verify',\n              handler: async (data) => {\n                const verificationCode = data.verificationCode;\n                if (!verificationCode) {\n                  reject(new Error('Verification code is required'));\n                  return;\n                }\n                try {\n                  console.log('Attempting to verify phone number with verification code');\n                  const phoneCredential = PhoneAuthProvider.credential(verificationResult.verificationId, verificationCode);\n                  await reauthenticateWithCredential(user, phoneCredential);\n                  localStorage.removeItem('defaultOTP');\n                  await this.updateProfile();\n                  console.log('User re-authenticated with phone number');\n                  resolve();\n                } catch (error) {\n                  console.error('Error verifying phone number', error);\n                  reject(error);\n                }\n              }\n            }\n          ]\n        });\n        await alert.present();\n  \n      } catch (error) {\n        console.error('Error during phone re-authentication', error);\n        this.overlay.showAlert('Error', error.message || 'An error occurred during phone re-authentication');\n        reject(error);\n      }\n    });\n  }\n  \n  \n  \n  \n\n  async updateProfile() {\n    try {\n      if (!this.form.valid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      this.approve2 = true;\n  \n      const user = this.authy.currentUser;\n      if (user) {\n        console.log('User authenticated', user);\n  \n        if (!this.imageUrl || this.imageUrl.length > 1000) {\n          throw new Error('Photo URL is required and must be less than 1000 characters');\n        }\n  \n        console.log('Updating email...');\n        await updateEmail(user, this.form.value.email);\n        console.log('Email updated');\n  \n        console.log('Updating profile...');\n        await updateProfile(user, {\n          displayName: `${this.form.value.fullname} ${this.form.value.lastname}`,\n          photoURL: this.imageUrl,\n        });\n        await this.avatar.createUser(`${this.form.value.fullname} ${this.form.value.lastname}`, this.form.value.email, this.imageUrl, user.phoneNumber, user.uid)\n        console.log('Profile updated');\n  \n        this.approve2 = false;\n        this.router.navigateByUrl('home');\n        console.log('Uploaded');\n      }\n    } catch (e: any) {\n      console.error('An error occurred during profile update', e);\n      this.approve2 = false;\n      if (e.code === 'auth/email-already-in-use') {\n        this.overlay.showAlert('Error', 'The email address is already in use by another account.');\n      } else if (e.code === 'auth/requires-recent-login') {\n        this.reauthenticateWithPhoneNumber();\n      } else {\n        this.overlay.showAlert('Error', e.message || 'An error occurred');\n      }\n    }\n  }\n  \n  \n  \n  \n  \n  \n  \n\n  async signInWithGoogle() {\n    try {\n      const provider = new GoogleAuthProvider();\n      const result = await signInWithPopup(this.authy, provider);\n      const user = result.user;\n  \n      if (user) {\n        this.imageUrl = user.photoURL || ''; // Update imageUrl with photoURL from Google\n  \n        this.form.patchValue({\n          fullname: user.displayName?.split(' ')[0] || '',\n          lastname: user.displayName?.split(' ')[1] || '',\n          email: user.email || ''\n        });\n  \n        console.log(\"User signed in with Google\", user);\n        console.log(\"Email:\", user.email);\n        console.log(\"Display Name:\", user.displayName);\n        console.log(\"Photo URL:\", user.photoURL);\n  \n        // Call updateProfile to update user details in Firebase\n        await this.updateProfile();\n      }\n    } catch (error) {\n      console.error(\"Error during Google sign-in\", error);\n      this.overlay.showAlert('Sign-in failed', 'There was a problem signing in with Google.');\n    }\n  }\n  \n  \n\n}\n","<ion-header [translucent]=\"true\" class=\"ion-no-border ion-padding\">\n  <ion-list>\n    <ion-list-header class=\"ion-padding-top\">\n      <ion-label color=\"primary\" class=\"ion-text-center\">\n        <h1>Personal Info</h1>\n      </ion-label>\n    </ion-list-header>\n  \n    <ion-item-group class=\"ion-margin-horizontal\">\n      <div class=\"preview\">\n        <ion-avatar (click)=\"presentImageSourceActionSheet()\">\n          <img *ngIf=\"imageUrl; else placeholder_avatar;\" [src]=\"imageUrl\" />\n          <ng-template #placeholder_avatar>\n            <div class=\"fallback\">\n              <p *ngIf=\"!approve2\">Select avatar</p>\n              <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n            </div>\n          </ng-template>\n        </ion-avatar>\n      </div>\n\n\n      <form [formGroup]=\"form\">\n\n        <div class=\"ion-margin-vertical\">\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"fullname\" \n              placeholder=\"First Name\" \n              type=\"text\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"lastname\" \n              placeholder=\"Last Name\" \n              type=\"text\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n\n          <ion-item class=\"ion-margin\">\n            <ion-input \n              formControlName=\"email\" \n              placeholder=\"Your Email\" \n              type=\"email\"\n              minlength=\"1\"\n              maxlength=\"200\">\n            </ion-input>\n          </ion-item>\n        </div>\n\n      </form>\n\n      <!-- Placeholder for reCAPTCHA -->\n      <div id=\"recaptcha-container\"></div>\n\n      <ion-button shape=\"round\" size=\"large\" type=\"submit\" [disabled]=\"!form.valid\" color=\"primary\" (click)=\"updateProfile()\" expand=\"block\">\n        <ion-label *ngIf=\"!approve2\">Continue</ion-label>\n        <ion-icon *ngIf=\"!approve2\" color='light' slot=\"end\" name=\"arrow-forward\"></ion-icon>\n        <ion-progress-bar *ngIf=\"approve2\" color='light' type=\"indeterminate\"></ion-progress-bar>\n      </ion-button>\n\n      <!-- <ion-button shape=\"round\" size=\"large\" color=\"secondary\" (click)=\"signInWithGoogle()\" expand=\"block\">\n        <ion-icon slot=\"start\" name=\"logo-google\"></ion-icon>\n        <ion-label>Sign in with Google</ion-label>\n      </ion-button> -->\n\n    </ion-item-group>\n  </ion-list>\n</ion-header>\n\n<ion-content class=\"ion-no-border\">\n  <ion-list class=\"ion-no-padding\" lines=\"none\">\n  </ion-list>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@angular/fire/storage';\nimport { getDownloadURL, ref, uploadString } from 'firebase/storage';\nimport { Photo } from '@capacitor/camera';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImageUploadService {\n  constructor(\n    private storage: Storage\n  ) { }\n\n  async uploadImage(image: Photo): Promise<string> {\n    const path = `images/${new Date().getTime()}.jpg`;\n    const storageRef = ref(this.storage, path);\n    const uploadResult = await uploadString(storageRef, image.base64String, 'base64');\n\n    return getDownloadURL(uploadResult.ref);\n  }\n}\n"],"names":["updateEmail","updateProfile","GoogleAuthProvider","signInWithPopup","RecaptchaVerifier","PhoneAuthProvider","reauthenticateWithCredential","signInWithPhoneNumber","FormControl","FormGroup","Validators","Camera","CameraResultType","CameraSource","i0","ɵɵelement","ɵɵproperty","ctx_r0","imageUrl","ɵɵsanitizeUrl","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","DetailsPage_ng_template_10_p_1_Template","DetailsPage_ng_template_10_ion_progress_bar_2_Template","ɵɵadvance","ctx_r2","approve2","DetailsPage","constructor","overlay","authy","authService","avatar","router","actionSheetController","alertController","imageUploadService","loadingController","onAuthStateChanged","user","profile","form","patchValue","fullname","displayName","split","lastname","email","ngOnInit","validators","required","minLength","maxLength","changeImage","source","_this","_asyncToGenerator","image","getPhoto","quality","allowEditing","resultType","Base64","loading","create","present","uid","dismiss","alert","header","message","buttons","result","uploadImage","uploadError","includes","error","presentImageSourceActionSheet","_this2","actionSheet","text","icon","handler","Photos","selectFile","role","_this3","input","document","createElement","type","accept","onchange","_ref","event","file","target","files","reader","FileReader","onload","_ref2","e","base64String","_x2","apply","arguments","readAsDataURL","_x","click","reauthenticateWithPhoneNumber","_this4","Promise","_ref3","resolve","reject","currentUser","Error","console","log","recaptchaContainerId","recaptchaContainer","getElementById","id","body","appendChild","innerHTML","recaptchaVerifier","phoneNumber","verificationResult","showAlert","verificationId","storedOTP","localStorage","getItem","userVerificationCode","inputs","name","placeholder","value","_ref4","data","verificationCode","phoneCredential","credential","removeItem","_x5","_x3","_x4","_this5","valid","markAllAsTouched","length","photoURL","createUser","navigateByUrl","code","signInWithGoogle","_this6","provider","ɵɵdirectiveInject","i1","OverlayService","i2","Auth","i3","AuthService","i4","AvatarService","i5","Router","i6","ActionSheetController","AlertController","i7","ImageUploadService","LoadingController","selectors","decls","vars","consts","template","DetailsPage_Template","rf","ctx","ɵɵlistener","DetailsPage_Template_ion_avatar_click_8_listener","DetailsPage_img_9_Template","DetailsPage_ng_template_10_Template","ɵɵtemplateRefExtractor","DetailsPage_Template_ion_button_click_21_listener","DetailsPage_ion_label_22_Template","DetailsPage_ion_icon_23_Template","DetailsPage_ion_progress_bar_24_Template","_r1","getDownloadURL","ref","uploadString","storage","path","Date","getTime","storageRef","uploadResult","ɵɵinject","Storage","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}